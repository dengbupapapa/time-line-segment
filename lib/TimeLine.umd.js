!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).TimeLine=e()}(this,(function(){"use strict";var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}var r=e,i=n;function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===e||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}"function"==typeof t.setTimeout&&(r=setTimeout),"function"==typeof t.clearTimeout&&(i=clearTimeout);var a,s=[],u=!1,l=-1;function c(){u&&a&&(u=!1,a.length?s=a.concat(s):l=-1,s.length&&_())}function _(){if(!u){var t=o(c);u=!0;for(var e=s.length;e;){for(a=s,s=[];++l<e;)a&&a[l].run();l=-1,e=s.length}a=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===n||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}f.prototype.run=function(){this.fun.apply(null,this.array)};function h(){}var p=h,d=h,v=h,m=h,g=h,y=h,b=h;var E=t.performance||{},S=E.now||E.mozNow||E.msNow||E.oNow||E.webkitNow||function(){return(new Date).getTime()};var w=new Date;var k={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new f(t,e)),1!==s.length||u||o(_)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:p,addListener:d,once:v,off:m,removeListener:g,removeAllListeners:y,emit:b,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*S.call(E),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-w)/1e3}};function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C(t,e){return t(e={exports:{}},e.exports),e.exports}var O=C((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),P=Object.freeze({__proto__:null,default:O,__moduleExports:O}),F=C((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),j=F.version,A=Object.freeze({__proto__:null,default:F,__moduleExports:F,version:j}),L=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},T=Object.freeze({__proto__:null,default:L,__moduleExports:L}),z=T&&L||T,M=function(t,e,n){if(z(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},I=Object.freeze({__proto__:null,default:M,__moduleExports:M}),R=function(t){return"object"==typeof t?null!==t:"function"==typeof t},D=Object.freeze({__proto__:null,default:R,__moduleExports:R}),N=D&&R||D,U=function(t){if(!N(t))throw TypeError(t+" is not an object!");return t},B=Object.freeze({__proto__:null,default:U,__moduleExports:U}),V=function(t){try{return!!t()}catch(t){return!0}},G=Object.freeze({__proto__:null,default:V,__moduleExports:V}),W=G&&V||G,K=!W((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),q=Object.freeze({__proto__:null,default:K,__moduleExports:K}),H=P&&O||P,Y=H.document,J=N(Y)&&N(Y.createElement),Q=function(t){return J?Y.createElement(t):{}},X=Object.freeze({__proto__:null,default:Q,__moduleExports:Q}),Z=q&&K||q,$=X&&Q||X,tt=!Z&&!W((function(){return 7!=Object.defineProperty($("div"),"a",{get:function(){return 7}}).a})),et=Object.freeze({__proto__:null,default:tt,__moduleExports:tt}),nt=function(t,e){if(!N(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!N(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},rt=Object.freeze({__proto__:null,default:nt,__moduleExports:nt}),it=B&&U||B,ot=et&&tt||et,at=rt&&nt||rt,st=Object.defineProperty,ut=Z?Object.defineProperty:function(t,e,n){if(it(t),e=at(e,!0),it(n),ot)try{return st(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},lt={f:ut},ct=Object.freeze({__proto__:null,default:lt,__moduleExports:lt,f:ut}),_t=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ft=Object.freeze({__proto__:null,default:_t,__moduleExports:_t}),ht=ct&&lt||ct,pt=ft&&_t||ft,dt=Z?function(t,e,n){return ht.f(t,e,pt(1,n))}:function(t,e,n){return t[e]=n,t},vt=Object.freeze({__proto__:null,default:dt,__moduleExports:dt}),mt={}.hasOwnProperty,gt=function(t,e){return mt.call(t,e)},yt=Object.freeze({__proto__:null,default:gt,__moduleExports:gt}),bt=A&&F||A,Et=I&&M||I,St=vt&&dt||vt,wt=yt&&gt||yt,kt=function(t,e,n){var r,i,o,a=t&kt.F,s=t&kt.G,u=t&kt.S,l=t&kt.P,c=t&kt.B,_=t&kt.W,f=s?bt:bt[e]||(bt[e]={}),h=f.prototype,p=s?H:u?H[e]:(H[e]||{}).prototype;for(r in s&&(n=e),n)(i=!a&&p&&void 0!==p[r])&&wt(f,r)||(o=i?p[r]:n[r],f[r]=s&&"function"!=typeof p[r]?n[r]:c&&i?Et(o,H):_&&p[r]==o?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(o):l&&"function"==typeof o?Et(Function.call,o):o,l&&((f.virtual||(f.virtual={}))[r]=o,t&kt.R&&h&&!h[r]&&St(h,r,o)))};kt.F=1,kt.G=2,kt.S=4,kt.P=8,kt.B=16,kt.W=32,kt.U=64,kt.R=128;var xt=kt,Ct=Object.freeze({__proto__:null,default:xt,__moduleExports:xt}),Ot={}.toString,Pt=function(t){return Ot.call(t).slice(8,-1)},Ft=Object.freeze({__proto__:null,default:Pt,__moduleExports:Pt}),jt=Ft&&Pt||Ft,At=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==jt(t)?t.split(""):Object(t)},Lt=Object.freeze({__proto__:null,default:At,__moduleExports:At}),Tt=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},zt=Object.freeze({__proto__:null,default:Tt,__moduleExports:Tt}),Mt=Lt&&At||Lt,It=zt&&Tt||zt,Rt=function(t){return Mt(It(t))},Dt=Object.freeze({__proto__:null,default:Rt,__moduleExports:Rt}),Nt=Math.ceil,Ut=Math.floor,Bt=function(t){return isNaN(t=+t)?0:(t>0?Ut:Nt)(t)},Vt=Object.freeze({__proto__:null,default:Bt,__moduleExports:Bt}),Gt=Vt&&Bt||Vt,Wt=Math.min,Kt=function(t){return t>0?Wt(Gt(t),9007199254740991):0},qt=Object.freeze({__proto__:null,default:Kt,__moduleExports:Kt}),Ht=Math.max,Yt=Math.min,Jt=function(t,e){return(t=Gt(t))<0?Ht(t+e,0):Yt(t,e)},Qt=Object.freeze({__proto__:null,default:Jt,__moduleExports:Jt}),Xt=Dt&&Rt||Dt,Zt=qt&&Kt||qt,$t=Qt&&Jt||Qt,te=function(t){return function(e,n,r){var i,o=Xt(e),a=Zt(o.length),s=$t(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ee=Object.freeze({__proto__:null,default:te,__moduleExports:te}),ne=Object.freeze({__proto__:null,default:!0,__moduleExports:!0}),re=!!ne||ne,ie=C((function(t){var e=H["__core-js_shared__"]||(H["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:bt.version,mode:re?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),oe=Object.freeze({__proto__:null,default:ie,__moduleExports:ie}),ae=0,se=Math.random(),ue=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++ae+se).toString(36))},le=Object.freeze({__proto__:null,default:ue,__moduleExports:ue}),ce=oe&&ie||oe,_e=le&&ue||le,fe=ce("keys"),he=function(t){return fe[t]||(fe[t]=_e(t))},pe=Object.freeze({__proto__:null,default:he,__moduleExports:he}),de=pe&&he||pe,ve=(ee&&te||ee)(!1),me=de("IE_PROTO"),ge=function(t,e){var n,r=Xt(t),i=0,o=[];for(n in r)n!=me&&wt(r,n)&&o.push(n);for(;e.length>i;)wt(r,n=e[i++])&&(~ve(o,n)||o.push(n));return o},ye=Object.freeze({__proto__:null,default:ge,__moduleExports:ge}),be="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ee=Object.freeze({__proto__:null,default:be,__moduleExports:be}),Se=ye&&ge||ye,we=Ee&&be||Ee,ke=Object.keys||function(t){return Se(t,we)},xe=Object.freeze({__proto__:null,default:ke,__moduleExports:ke}),Ce=xe&&ke||xe,Oe=Z?Object.defineProperties:function(t,e){it(t);for(var n,r=Ce(e),i=r.length,o=0;i>o;)ht.f(t,n=r[o++],e[n]);return t},Pe=Object.freeze({__proto__:null,default:Oe,__moduleExports:Oe}),Fe=H.document,je=Fe&&Fe.documentElement,Ae=Object.freeze({__proto__:null,default:je,__moduleExports:je}),Le=Pe&&Oe||Pe,Te=Ae&&je||Ae,ze=de("IE_PROTO"),Me=function(){},Ie=function(){var t,e=$("iframe"),n=we.length;for(e.style.display="none",Te.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ie=t.F;n--;)delete Ie.prototype[we[n]];return Ie()},Re=Object.create||function(t,e){var n;return null!==t?(Me.prototype=it(t),n=new Me,Me.prototype=null,n[ze]=t):n=Ie(),void 0===e?n:Le(n,e)},De=Object.freeze({__proto__:null,default:Re,__moduleExports:Re}),Ne=Ct&&xt||Ct,Ue=De&&Re||De;Ne(Ne.S,"Object",{create:Ue});var Be=bt.Object,Ve=function(t,e){return Be.create(t,e)},Ge=Object.freeze({__proto__:null,default:Ve,__moduleExports:Ve}),We=Ge&&Ve||Ge,Ke=C((function(t){t.exports={default:We,__esModule:!0}})),qe=x(Ke),He=Object.freeze({__proto__:null,default:qe,__moduleExports:Ke}),Ye={}.propertyIsEnumerable,Je={f:Ye},Qe=Object.freeze({__proto__:null,default:Je,__moduleExports:Je,f:Ye}),Xe=Qe&&Je||Qe,Ze=Object.getOwnPropertyDescriptor,$e=Z?Ze:function(t,e){if(t=Xt(t),e=at(e,!0),ot)try{return Ze(t,e)}catch(t){}if(wt(t,e))return pt(!Xe.f.call(t,e),t[e])},tn={f:$e},en=Object.freeze({__proto__:null,default:tn,__moduleExports:tn,f:$e}),nn=en&&tn||en,rn=function(t,e){if(it(t),!N(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},on={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=Et(Function.call,nn.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return rn(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:rn},an=on.set,sn=on.check,un=Object.freeze({__proto__:null,default:on,__moduleExports:on,set:an,check:sn}),ln=un&&on||un;Ne(Ne.S,"Object",{setPrototypeOf:ln.set});var cn=bt.Object.setPrototypeOf,_n=Object.freeze({__proto__:null,default:cn,__moduleExports:cn}),fn=_n&&cn||_n,hn=C((function(t){t.exports={default:fn,__esModule:!0}})),pn=x(hn),dn=Object.freeze({__proto__:null,default:pn,__moduleExports:hn}),vn=function(t){return function(e,n){var r,i,o=String(It(e)),a=Gt(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},mn=Object.freeze({__proto__:null,default:vn,__moduleExports:vn}),gn=St,yn=Object.freeze({__proto__:null,default:gn,__moduleExports:gn}),bn={},En=Object.freeze({__proto__:null,default:bn,__moduleExports:bn}),Sn=C((function(t){var e=ce("wks"),n=H.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:_e)("Symbol."+t))}).store=e})),wn=Object.freeze({__proto__:null,default:Sn,__moduleExports:Sn}),kn=wn&&Sn||wn,xn=ht.f,Cn=kn("toStringTag"),On=function(t,e,n){t&&!wt(t=n?t:t.prototype,Cn)&&xn(t,Cn,{configurable:!0,value:e})},Pn=Object.freeze({__proto__:null,default:On,__moduleExports:On}),Fn=Pn&&On||Pn,jn={};St(jn,kn("iterator"),(function(){return this}));var An=function(t,e,n){t.prototype=Ue(jn,{next:pt(1,n)}),Fn(t,e+" Iterator")},Ln=Object.freeze({__proto__:null,default:An,__moduleExports:An}),Tn=function(t){return Object(It(t))},zn=Object.freeze({__proto__:null,default:Tn,__moduleExports:Tn}),Mn=zn&&Tn||zn,In=de("IE_PROTO"),Rn=Object.prototype,Dn=Object.getPrototypeOf||function(t){return t=Mn(t),wt(t,In)?t[In]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Rn:null},Nn=Object.freeze({__proto__:null,default:Dn,__moduleExports:Dn}),Un=yn&&gn||yn,Bn=En&&bn||En,Vn=Ln&&An||Ln,Gn=Nn&&Dn||Nn,Wn=kn("iterator"),Kn=!([].keys&&"next"in[].keys()),qn=function(){return this},Hn=function(t,e,n,r,i,o,a){Vn(n,e,r);var s,u,l,c=function(t){if(!Kn&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",f="values"==i,h=!1,p=t.prototype,d=p[Wn]||p["@@iterator"]||i&&p[i],v=d||c(i),m=i?f?c("entries"):v:void 0,g="Array"==e&&p.entries||d;if(g&&(l=Gn(g.call(new t)))!==Object.prototype&&l.next&&(Fn(l,_,!0),re||"function"==typeof l[Wn]||St(l,Wn,qn)),f&&d&&"values"!==d.name&&(h=!0,v=function(){return d.call(this)}),re&&!a||!Kn&&!h&&p[Wn]||St(p,Wn,v),Bn[e]=v,Bn[_]=qn,i)if(s={values:f?v:c("values"),keys:o?v:c("keys"),entries:m},a)for(u in s)u in p||Un(p,u,s[u]);else Ne(Ne.P+Ne.F*(Kn||h),e,s);return s},Yn=Object.freeze({__proto__:null,default:Hn,__moduleExports:Hn}),Jn=Yn&&Hn||Yn,Qn=(mn&&vn||mn)(!0);Jn(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Qn(e,n),this._i+=t.length,{value:t,done:!1})}));var Xn=function(){},Zn=Object.freeze({__proto__:null,default:Xn,__moduleExports:Xn}),$n=function(t,e){return{value:e,done:!!t}},tr=Object.freeze({__proto__:null,default:$n,__moduleExports:$n}),er=Zn&&Xn||Zn,nr=tr&&$n||tr;Jn(Array,"Array",(function(t,e){this._t=Xt(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,nr(1)):nr(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");Bn.Arguments=Bn.Array,er("keys"),er("values"),er("entries");for(var rr=kn("toStringTag"),ir="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),or=0;or<ir.length;or++){var ar=ir[or],sr=H[ar],ur=sr&&sr.prototype;ur&&!ur[rr]&&St(ur,rr,ar),Bn[ar]=Bn.Array}var lr=kn,cr={f:lr},_r=Object.freeze({__proto__:null,default:cr,__moduleExports:cr,f:lr}),fr=_r&&cr||_r,hr=fr.f("iterator"),pr=Object.freeze({__proto__:null,default:hr,__moduleExports:hr}),dr=pr&&hr||pr,vr=C((function(t){t.exports={default:dr,__esModule:!0}})),mr=x(vr),gr=Object.freeze({__proto__:null,default:mr,__moduleExports:vr}),yr=C((function(t){var e=_e("meta"),n=ht.f,r=0,i=Object.isExtensible||function(){return!0},o=!W((function(){return i(Object.preventExtensions({}))})),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!N(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!wt(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!wt(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!wt(t,e)&&a(t),t}}})),br=yr.KEY,Er=yr.NEED,Sr=yr.fastKey,wr=yr.getWeak,kr=yr.onFreeze,xr=Object.freeze({__proto__:null,default:yr,__moduleExports:yr,KEY:br,NEED:Er,fastKey:Sr,getWeak:wr,onFreeze:kr}),Cr=ht.f,Or=function(t){var e=bt.Symbol||(bt.Symbol=re?{}:H.Symbol||{});"_"==t.charAt(0)||t in e||Cr(e,t,{value:fr.f(t)})},Pr=Object.freeze({__proto__:null,default:Or,__moduleExports:Or}),Fr=Object.getOwnPropertySymbols,jr={f:Fr},Ar=Object.freeze({__proto__:null,default:jr,__moduleExports:jr,f:Fr}),Lr=Ar&&jr||Ar,Tr=function(t){var e=Ce(t),n=Lr.f;if(n)for(var r,i=n(t),o=Xe.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e},zr=Object.freeze({__proto__:null,default:Tr,__moduleExports:Tr}),Mr=Array.isArray||function(t){return"Array"==jt(t)},Ir=Object.freeze({__proto__:null,default:Mr,__moduleExports:Mr}),Rr=we.concat("length","prototype"),Dr=Object.getOwnPropertyNames||function(t){return Se(t,Rr)},Nr={f:Dr},Ur=Object.freeze({__proto__:null,default:Nr,__moduleExports:Nr,f:Dr}),Br=Ur&&Nr||Ur,Vr=Br.f,Gr={}.toString,Wr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Kr=function(t){return Wr&&"[object Window]"==Gr.call(t)?function(t){try{return Vr(t)}catch(t){return Wr.slice()}}(t):Vr(Xt(t))},qr={f:Kr},Hr=Object.freeze({__proto__:null,default:qr,__moduleExports:qr,f:Kr}),Yr=Pr&&Or||Pr,Jr=zr&&Tr||zr,Qr=Ir&&Mr||Ir,Xr=Hr&&qr||Hr,Zr=(xr&&yr||xr).KEY,$r=nn.f,ti=ht.f,ei=Xr.f,ni=H.Symbol,ri=H.JSON,ii=ri&&ri.stringify,oi=kn("_hidden"),ai=kn("toPrimitive"),si={}.propertyIsEnumerable,ui=ce("symbol-registry"),li=ce("symbols"),ci=ce("op-symbols"),_i=Object.prototype,fi="function"==typeof ni&&!!Lr.f,hi=H.QObject,pi=!hi||!hi.prototype||!hi.prototype.findChild,di=Z&&W((function(){return 7!=Ue(ti({},"a",{get:function(){return ti(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=$r(_i,e);r&&delete _i[e],ti(t,e,n),r&&t!==_i&&ti(_i,e,r)}:ti,vi=function(t){var e=li[t]=Ue(ni.prototype);return e._k=t,e},mi=fi&&"symbol"==typeof ni.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof ni},gi=function(t,e,n){return t===_i&&gi(ci,e,n),it(t),e=at(e,!0),it(n),wt(li,e)?(n.enumerable?(wt(t,oi)&&t[oi][e]&&(t[oi][e]=!1),n=Ue(n,{enumerable:pt(0,!1)})):(wt(t,oi)||ti(t,oi,pt(1,{})),t[oi][e]=!0),di(t,e,n)):ti(t,e,n)},yi=function(t,e){it(t);for(var n,r=Jr(e=Xt(e)),i=0,o=r.length;o>i;)gi(t,n=r[i++],e[n]);return t},bi=function(t){var e=si.call(this,t=at(t,!0));return!(this===_i&&wt(li,t)&&!wt(ci,t))&&(!(e||!wt(this,t)||!wt(li,t)||wt(this,oi)&&this[oi][t])||e)},Ei=function(t,e){if(t=Xt(t),e=at(e,!0),t!==_i||!wt(li,e)||wt(ci,e)){var n=$r(t,e);return!n||!wt(li,e)||wt(t,oi)&&t[oi][e]||(n.enumerable=!0),n}},Si=function(t){for(var e,n=ei(Xt(t)),r=[],i=0;n.length>i;)wt(li,e=n[i++])||e==oi||e==Zr||r.push(e);return r},wi=function(t){for(var e,n=t===_i,r=ei(n?ci:Xt(t)),i=[],o=0;r.length>o;)!wt(li,e=r[o++])||n&&!wt(_i,e)||i.push(li[e]);return i};fi||(Un((ni=function(){if(this instanceof ni)throw TypeError("Symbol is not a constructor!");var t=_e(arguments.length>0?arguments[0]:void 0),e=function(n){this===_i&&e.call(ci,n),wt(this,oi)&&wt(this[oi],t)&&(this[oi][t]=!1),di(this,t,pt(1,n))};return Z&&pi&&di(_i,t,{configurable:!0,set:e}),vi(t)}).prototype,"toString",(function(){return this._k})),nn.f=Ei,ht.f=gi,Br.f=Xr.f=Si,Xe.f=bi,Lr.f=wi,Z&&!re&&Un(_i,"propertyIsEnumerable",bi,!0),fr.f=function(t){return vi(kn(t))}),Ne(Ne.G+Ne.W+Ne.F*!fi,{Symbol:ni});for(var ki="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),xi=0;ki.length>xi;)kn(ki[xi++]);for(var Ci=Ce(kn.store),Oi=0;Ci.length>Oi;)Yr(Ci[Oi++]);Ne(Ne.S+Ne.F*!fi,"Symbol",{for:function(t){return wt(ui,t+="")?ui[t]:ui[t]=ni(t)},keyFor:function(t){if(!mi(t))throw TypeError(t+" is not a symbol!");for(var e in ui)if(ui[e]===t)return e},useSetter:function(){pi=!0},useSimple:function(){pi=!1}}),Ne(Ne.S+Ne.F*!fi,"Object",{create:function(t,e){return void 0===e?Ue(t):yi(Ue(t),e)},defineProperty:gi,defineProperties:yi,getOwnPropertyDescriptor:Ei,getOwnPropertyNames:Si,getOwnPropertySymbols:wi});var Pi=W((function(){Lr.f(1)}));Ne(Ne.S+Ne.F*Pi,"Object",{getOwnPropertySymbols:function(t){return Lr.f(Mn(t))}}),ri&&Ne(Ne.S+Ne.F*(!fi||W((function(){var t=ni();return"[null]"!=ii([t])||"{}"!=ii({a:t})||"{}"!=ii(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(N(e)||void 0!==t)&&!mi(t))return Qr(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!mi(e))return e}),r[1]=e,ii.apply(ri,r)}}),ni.prototype[ai]||St(ni.prototype,ai,ni.prototype.valueOf),Fn(ni,"Symbol"),Fn(Math,"Math",!0),Fn(H.JSON,"JSON",!0),Yr("asyncIterator"),Yr("observable");var Fi=bt.Symbol,ji=Object.freeze({__proto__:null,default:Fi,__moduleExports:Fi}),Ai=ji&&Fi||ji,Li=C((function(t){t.exports={default:Ai,__esModule:!0}})),Ti=x(Li),zi=Object.freeze({__proto__:null,default:Ti,__moduleExports:Li}),Mi=gr&&mr||gr,Ii=zi&&Ti||zi,Ri=C((function(t,e){e.__esModule=!0;var n=o(Mi),r=o(Ii),i="function"==typeof r.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===i(n.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":i(t)}})),Di=x(Ri),Ni=Object.freeze({__proto__:null,default:Di,__moduleExports:Ri}),Ui=function(t,e){var n=(bt.Object||{})[t]||Object[t],r={};r[t]=e(n),Ne(Ne.S+Ne.F*W((function(){n(1)})),"Object",r)},Bi=Object.freeze({__proto__:null,default:Ui,__moduleExports:Ui}),Vi=Bi&&Ui||Bi;Vi("keys",(function(){return function(t){return Ce(Mn(t))}}));var Gi,Wi,Ki=bt.Object.keys,qi=Object.freeze({__proto__:null,default:Ki,__moduleExports:Ki}),Hi=qi&&Ki||qi,Yi=x(C((function(t){t.exports={default:Hi,__esModule:!0}}))),Ji="undefined"==typeof self&&void 0!==k&&k.hrtime?function(){var t=k.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},Qi=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Yi(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){var n=Yi(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:Ji();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&!e&&delete this._tweens[n[r]]}n=Yi(this._tweensAddedDuringUpdate)}return!0},t}(),Xi={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Xi.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Xi.Bounce.In(2*t):.5*Xi.Bounce.Out(2*t-1)+.5}}},Zi={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Zi.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=Zi.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Zi.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Zi.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(Gi=[1],function(t){var e=1;if(Gi[t])return Gi[t];for(var n=t;n>1;n--)e*=n;return Gi[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},$i=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),to=function(){function t(t,e){void 0===e&&(e=no),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._back=!1,this._delayTime=0,this._startTime=0,this._easingFunction=no.Easing.Linear.None,this._interpolationFunction=no.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=no.nextId(),this._isChainStopped=!1}return t.prototype.playback=function(t){this._playback=t},t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){for(var n in t)this._valuesEnd[n]=t[n];return void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?no.now()+parseFloat(t):t:no.now(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,r){for(var i in n){var o=t[i],a=Array.isArray(o),s=a?"array":void 0===o?"undefined":Di(o),u=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(u){var l=n[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(l)}if("object"!==s&&!a||!o||u)void 0===e[i]&&(e[i]=o),a||(e[i]*=1),r[i]=u?n[i].slice().reverse():e[i]||0;else{for(var c in e[i]=a?[]:{},o)e[i][c]=o[c];r[i]=a?[]:{},this._setupProperties(o,e[i],n[i],r[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this._onFinishCallback&&this._onFinishCallback(this._object,"stop"),this):this},t.prototype.end=function(){return this.update(1/0),this},t.prototype.pause=function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?no.now():t,this._group.remove(this),this._onPauseCallback&&this._onPauseCallback()),this},t.prototype.resume=function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?no.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this._onResumeCallback&&this._onResumeCallback(),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype._onStart=function(t){return this._onStartCallback=t,this},t.prototype._onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype._onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype._onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype._onFinish=function(t){return this._onFinishCallback=t,this},t.prototype._onStop=function(t){return this._onStopCallback=t,this},t.prototype._onPause=function(t){return this._onPauseCallback=t,this},t.prototype._onResume=function(t){return this._onResumeCallback=t,this},t.prototype.update=function(t){var e,n;if(t>this._startTime+this._duration&&!this._isPlaying)return!1;if(this.isPlaying||this.start(t),t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var r=this._playback?1-n:n,i=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[e]||(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object),this._onFinishCallback&&this._onFinishCallback(this._object,"complete");for(var o=0,a=this._chainedTweens.length;o<a;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],s=Array.isArray(t[i]),u=Array.isArray(a);!s&&u?t[i]=this._interpolationFunction(a,r):"object"===(void 0===a?"undefined":Di(a))&&a?this._updateProperties(t[i],o,a,r):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t];"string"==typeof this._valuesEnd[t]?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t]):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=e},t}(),eo=(Wi=function(t,e){return(Wi=pn||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wi(t,e),t.prototype=null===e?qe(e):(n.prototype=e.prototype,new n)}),no=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.version="18.6.0",e.now=Ji,e.Group=Qi,e.Easing=Xi,e.Interpolation=Zi,e.nextId=$i.nextId,e.Tween=to,e}return eo(e,t),e}(Qi));Vi("getPrototypeOf",(function(){return function(t){return Gn(Mn(t))}}));var ro=bt.Object.getPrototypeOf,io=Object.freeze({__proto__:null,default:ro,__moduleExports:ro}),oo=io&&ro||io,ao=x(C((function(t){t.exports={default:oo,__esModule:!0}}))),so=x(C((function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}})));Ne(Ne.S+Ne.F*!Z,"Object",{defineProperty:ht.f});var uo=bt.Object,lo=function(t,e,n){return uo.defineProperty(t,e,n)},co=Object.freeze({__proto__:null,default:lo,__moduleExports:lo}),_o=co&&lo||co,fo=C((function(t){t.exports={default:_o,__esModule:!0}})),ho=x(fo),po=Object.freeze({__proto__:null,default:ho,__moduleExports:fo}),vo=po&&ho||po,mo=x(C((function(t,e){e.__esModule=!0;var n,r=(n=vo)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()}))),go=Ni&&Di||Ni,yo=x(C((function(t,e){e.__esModule=!0;var n,r=(n=go)&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}}))),bo=dn&&pn||dn,Eo=He&&qe||He,So=x(C((function(t,e){e.__esModule=!0;var n=o(bo),r=o(Eo),i=o(go);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}}))),wo=Object.assign,ko=!wo||W((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=wo({},t)[n]||Object.keys(wo({},e)).join("")!=r}))?function(t,e){for(var n=Mn(t),r=arguments.length,i=1,o=Lr.f,a=Xe.f;r>i;)for(var s,u=Mt(arguments[i++]),l=o?Ce(u).concat(o(u)):Ce(u),c=l.length,_=0;c>_;)s=l[_++],Z&&!a.call(u,s)||(n[s]=u[s]);return n}:wo,xo=Object.freeze({__proto__:null,default:ko,__moduleExports:ko}),Co=xo&&ko||xo;Ne(Ne.S+Ne.F,"Object",{assign:Co});var Oo=bt.Object.assign,Po=Object.freeze({__proto__:null,default:Oo,__moduleExports:Oo}),Fo=Po&&Oo||Po;function jo(){}x(C((function(t){t.exports={default:Fo,__esModule:!0}})))(jo.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e),this},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t)}}}});var Ao,Lo,To,zo="start",Mo="finish",Io="pause",Ro="resume",Do=kn("toStringTag"),No="Arguments"==jt(function(){return arguments}()),Uo=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Do))?n:No?jt(e):"Object"==(r=jt(e))&&"function"==typeof e.callee?"Arguments":r},Bo=Object.freeze({__proto__:null,default:Uo,__moduleExports:Uo}),Vo=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},Go=Object.freeze({__proto__:null,default:Vo,__moduleExports:Vo}),Wo=function(t,e,n,r){try{return r?e(it(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&it(i.call(t)),e}},Ko=Object.freeze({__proto__:null,default:Wo,__moduleExports:Wo}),qo=kn("iterator"),Ho=Array.prototype,Yo=function(t){return void 0!==t&&(Bn.Array===t||Ho[qo]===t)},Jo=Object.freeze({__proto__:null,default:Yo,__moduleExports:Yo}),Qo=Bo&&Uo||Bo,Xo=kn("iterator"),Zo=bt.getIteratorMethod=function(t){if(null!=t)return t[Xo]||t["@@iterator"]||Bn[Qo(t)]},$o=Object.freeze({__proto__:null,default:Zo,__moduleExports:Zo}),ta=Ko&&Wo||Ko,ea=Jo&&Yo||Jo,na=$o&&Zo||$o,ra=C((function(t){var e={},n={},r=t.exports=function(t,r,i,o,a){var s,u,l,c,_=a?function(){return t}:na(t),f=Et(i,o,r?2:1),h=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(ea(_)){for(s=Zt(t.length);s>h;h++)if((c=r?f(it(u=t[h])[0],u[1]):f(t[h]))===e||c===n)return c}else for(l=_.call(t);!(u=l.next()).done;)if((c=ta(l,f,u.value,r))===e||c===n)return c};r.BREAK=e,r.RETURN=n})),ia=Object.freeze({__proto__:null,default:ra,__moduleExports:ra}),oa=kn("species"),aa=function(t,e){var n,r=it(t).constructor;return void 0===r||null==(n=it(r)[oa])?e:z(n)},sa=Object.freeze({__proto__:null,default:aa,__moduleExports:aa}),ua=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},la=Object.freeze({__proto__:null,default:ua,__moduleExports:ua}),ca=la&&ua||la,_a=H.process,fa=H.setImmediate,ha=H.clearImmediate,pa=H.MessageChannel,da=H.Dispatch,va=0,ma={},ga=function(){var t=+this;if(ma.hasOwnProperty(t)){var e=ma[t];delete ma[t],e()}},ya=function(t){ga.call(t.data)};fa&&ha||(fa=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ma[++va]=function(){ca("function"==typeof t?t:Function(t),e)},Ao(va),va},ha=function(t){delete ma[t]},"process"==jt(_a)?Ao=function(t){_a.nextTick(Et(ga,t,1))}:da&&da.now?Ao=function(t){da.now(Et(ga,t,1))}:pa?(To=(Lo=new pa).port2,Lo.port1.onmessage=ya,Ao=Et(To.postMessage,To,1)):H.addEventListener&&"function"==typeof postMessage&&!H.importScripts?(Ao=function(t){H.postMessage(t+"","*")},H.addEventListener("message",ya,!1)):Ao="onreadystatechange"in $("script")?function(t){Te.appendChild($("script")).onreadystatechange=function(){Te.removeChild(this),ga.call(t)}}:function(t){setTimeout(Et(ga,t,1),0)});var ba={set:fa,clear:ha},Ea=ba.set,Sa=ba.clear,wa=Object.freeze({__proto__:null,default:ba,__moduleExports:ba,set:Ea,clear:Sa}),ka=wa&&ba||wa,xa=ka.set,Ca=H.MutationObserver||H.WebKitMutationObserver,Oa=H.process,Pa=H.Promise,Fa="process"==jt(Oa),ja=function(){var t,e,n,r=function(){var r,i;for(Fa&&(r=Oa.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(Fa)n=function(){Oa.nextTick(r)};else if(!Ca||H.navigator&&H.navigator.standalone)if(Pa&&Pa.resolve){var i=Pa.resolve(void 0);n=function(){i.then(r)}}else n=function(){xa.call(H,r)};else{var o=!0,a=document.createTextNode("");new Ca(r).observe(a,{characterData:!0}),n=function(){a.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}},Aa=Object.freeze({__proto__:null,default:ja,__moduleExports:ja});function La(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=z(e),this.reject=z(n)}var Ta=function(t){return new La(t)},za={f:Ta},Ma=Object.freeze({__proto__:null,default:za,__moduleExports:za,f:Ta}),Ia=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Ra=Object.freeze({__proto__:null,default:Ia,__moduleExports:Ia}),Da=H.navigator,Na=Da&&Da.userAgent||"",Ua=Object.freeze({__proto__:null,default:Na,__moduleExports:Na}),Ba=Ma&&za||Ma,Va=function(t,e){if(it(t),N(e)&&e.constructor===t)return e;var n=Ba.f(t);return(0,n.resolve)(e),n.promise},Ga=Object.freeze({__proto__:null,default:Va,__moduleExports:Va}),Wa=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:St(t,r,e[r]);return t},Ka=Object.freeze({__proto__:null,default:Wa,__moduleExports:Wa}),qa=kn("species"),Ha=function(t){var e="function"==typeof bt[t]?bt[t]:H[t];Z&&e&&!e[qa]&&ht.f(e,qa,{configurable:!0,get:function(){return this}})},Ya=Object.freeze({__proto__:null,default:Ha,__moduleExports:Ha}),Ja=kn("iterator"),Qa=!1;try{var Xa=[7][Ja]();Xa.return=function(){Qa=!0},Array.from(Xa,(function(){throw 2}))}catch(t){}var Za,$a,ts,es,ns=function(t,e){if(!e&&!Qa)return!1;var n=!1;try{var r=[7],i=r[Ja]();i.next=function(){return{done:n=!0}},r[Ja]=function(){return i},t(r)}catch(t){}return n},rs=Object.freeze({__proto__:null,default:ns,__moduleExports:ns}),is=Go&&Vo||Go,os=ia&&ra||ia,as=sa&&aa||sa,ss=Aa&&ja||Aa,us=Ra&&Ia||Ra,ls=Ua&&Na||Ua,cs=Ga&&Va||Ga,_s=Ka&&Wa||Ka,fs=Ya&&Ha||Ya,hs=rs&&ns||rs,ps=ka.set,ds=ss(),vs=H.TypeError,ms=H.process,gs=ms&&ms.versions,ys=gs&&gs.v8||"",bs=H.Promise,Es="process"==Qo(ms),Ss=function(){},ws=$a=Ba.f,ks=!!function(){try{var t=bs.resolve(1),e=(t.constructor={})[kn("species")]=function(t){t(Ss,Ss)};return(Es||"function"==typeof PromiseRejectionEvent)&&t.then(Ss)instanceof e&&0!==ys.indexOf("6.6")&&-1===ls.indexOf("Chrome/66")}catch(t){}}(),xs=function(t){var e;return!(!N(t)||"function"!=typeof(e=t.then))&&e},Cs=function(t,e){if(!t._n){t._n=!0;var n=t._c;ds((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&Fs(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(vs("Promise-chain cycle")):(o=xs(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Os(t)}))}},Os=function(t){ps.call(H,(function(){var e,n,r,i=t._v,o=Ps(t);if(o&&(e=us((function(){Es?ms.emit("unhandledRejection",i,t):(n=H.onunhandledrejection)?n({promise:t,reason:i}):(r=H.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=Es||Ps(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},Ps=function(t){return 1!==t._h&&0===(t._a||t._c).length},Fs=function(t){ps.call(H,(function(){var e;Es?ms.emit("rejectionHandled",t):(e=H.onrejectionhandled)&&e({promise:t,reason:t._v})}))},js=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Cs(e,!0))},As=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw vs("Promise can't be resolved itself");(e=xs(t))?ds((function(){var r={_w:n,_d:!1};try{e.call(t,Et(As,r,1),Et(js,r,1))}catch(t){js.call(r,t)}})):(n._v=t,n._s=1,Cs(n,!1))}catch(t){js.call({_w:n,_d:!1},t)}}};ks||(bs=function(t){is(this,bs,"Promise","_h"),z(t),Za.call(this);try{t(Et(As,this,1),Et(js,this,1))}catch(t){js.call(this,t)}},(Za=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=_s(bs.prototype,{then:function(t,e){var n=ws(as(this,bs));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Es?ms.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Cs(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),ts=function(){var t=new Za;this.promise=t,this.resolve=Et(As,t,1),this.reject=Et(js,t,1)},Ba.f=ws=function(t){return t===bs||t===es?new ts(t):$a(t)}),Ne(Ne.G+Ne.W+Ne.F*!ks,{Promise:bs}),Fn(bs,"Promise"),fs("Promise"),es=bt.Promise,Ne(Ne.S+Ne.F*!ks,"Promise",{reject:function(t){var e=ws(this);return(0,e.reject)(t),e.promise}}),Ne(Ne.S+Ne.F*(re||!ks),"Promise",{resolve:function(t){return cs(re&&this===es?bs:this,t)}}),Ne(Ne.S+Ne.F*!(ks&&hs((function(t){bs.all(t).catch(Ss)}))),"Promise",{all:function(t){var e=this,n=ws(e),r=n.resolve,i=n.reject,o=us((function(){var n=[],o=0,a=1;os(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=ws(e),r=n.reject,i=us((function(){os(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}}),Ne(Ne.P+Ne.R,"Promise",{finally:function(t){var e=as(this,bt.Promise||H.Promise),n="function"==typeof t;return this.then(n?function(n){return cs(e,t()).then((function(){return n}))}:t,n?function(n){return cs(e,t()).then((function(){throw n}))}:t)}}),Ne(Ne.S,"Promise",{try:function(t){var e=Ba.f(this),n=us(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var Ls=bt.Promise,Ts=Object.freeze({__proto__:null,default:Ls,__moduleExports:Ls}),zs=Ts&&Ls||Ts,Ms=x(C((function(t){t.exports={default:zs,__esModule:!0}}))),Is=Ti(),Rs=function(t){function e(t){so(this,e);var n=yo(this,(e.__proto__||ao(e)).call(this));n._transactions=[],n._totalTime=100,n._name=t;var r=function(){},i=Ds.call(n,{type:"point",value:0,fn:r});return n._transactions.push({tween:i,fn:r,name:Is,type:"point",value:0}),n}return So(e,t),mo(e,[{key:"start",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Ns.call.apply(Ns,[this].concat(e,[!1]))}},{key:"forceStart",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0;if(0===(r=e.length>0?this._transactions.filter((function(t){var n=t.name;return e.includes(n)})):this._transactions).length)return!1;r.forEach((function(t){t.tween.stop()})),this.start.apply(this,e)}},{key:"playback",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Ns.call.apply(Ns,[this].concat(e,[!0]))}},{key:"forcePlayback",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0;if(0===(r=e.length>0?this._transactions.filter((function(t){var n=t.name;return e.includes(n)})):this._transactions).length)return!1;r.forEach((function(t){t.tween.stop()})),this.playback.apply(this,e)}},{key:"stop",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=void 0;if(0===(i=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&(t.finishType="stop"),n.includes(e)&&r._isPlaying})):this._transactions.filter((function(t){var e=t.tween;return t.finishType="stop",e._isPlaying}))).length)return!1;var o=i.map((function(t){var e=t.tween;t.fn;return new Ms((function(t){!1===e._isPlaying?t():e._onStop((function(){t()}))}))}));Ms.all(o).then((function(){t.dispatchEvent({type:"stop",transactions:i})})),i.forEach((function(t){t.tween.stop()}))}},{key:"pause",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=void 0;if(0===(i=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&!r._isPaused&&r._isPlaying})):this._transactions.filter((function(t){var e=t.tween;return!e._isPaused&&e._isPlaying}))).length)return!1;var o=i.map((function(t){var e=t.tween;t.fn;return new Ms((function(t){e._onPause((function(){t()}))}))}));Ms.all(o).then((function(){t.dispatchEvent({type:Io,transactions:i})})),i.forEach((function(t){t.tween.pause()}))}},{key:"resume",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=void 0;if(0===(i=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&r._isPaused&&r._isPlaying})):this._transactions.filter((function(t){var e=t.tween;return e._isPaused&&e._isPlaying}))).length)return!1;var o=i.map((function(t){var e=t.tween;t.fn;return new Ms((function(t){e._onResume((function(){t()}))}))}));Ms.all(o).then((function(){t.dispatchEvent({type:Ro,transactions:i})})),i.forEach((function(t){t.tween.resume()}))}},{key:"chain",value:function(t){if(t instanceof e){for(var n,r,i=!1,o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("boolean"==typeof a[a.length-1]&&(i=a.pop()),this._nextSegment=t,i)this._nextSegmentStrat=(n=t.playback).bind.apply(n,[t].concat(a));else this._nextSegmentStrat=(r=t.start).bind.apply(r,[t].concat(a))}return this}},{key:"removeChain",value:function(){delete this._nextSegment,delete this._nextSegmentStrat}},{key:"transaction",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r={};"[object Object]"===Object.prototype.toString.call(e[e.length-1])&&(r=e.pop());var i=r,o=i.name,a=i.easing,s=void 0===a?TimeLine.Easing.Linear.None:a;if("function"!=typeof s)throw new Error("easing is function!");if(void 0!==o&&"string"!=typeof o)throw new Error("name is string!");var u=e.pop();if("function"!=typeof u)throw new Error("You need to pass in a function!");if(1===e.length){if("number"!=typeof e[0]||e[0]<0)throw new Error("Invalid time value! should time >= 0.");var l=Ds.call(this,{type:"point",value:e[0],fn:u});this._transactions.push({tween:l,fn:u,name:o,type:"point",value:e[0]}),this._totalTime=Math.max(this._totalTime,e[0])}else{if(2!==e.length)throw new Error("Invalid arguments!");if("number"!=typeof e[0]||"number"!=typeof e[1]||e[0]<0||e[1]<0)throw new Error("Invalid time value! should time >= 0.");if(e[0]>=e[1])throw new Error("arg[0] < arg[1]!");var c=Ds.call(this,{type:"interval",value:e,fn:u,easing:s});this._transactions.push({tween:c,fn:u,name:o,type:"interval",value:e}),this._totalTime=Math.max(this._totalTime,e[1])}return this}},{key:"remove",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0!==n){var i=this._transactions.length;this._transactions=this._transactions.filter((function(t){var e=t.name;return!n.includes(e)||e===Is}));var o=this._transactions.length;i!==o&&(this._totalTime=0,this._transactions.forEach((function(e){var n=e.type,r=e.value;if("point"===n)t._totalTime=Math.max(t._totalTime,r);else{if("interval"!==n)throw new Error("transaction type error!");t._totalTime=Math.max(t._totalTime,r[1])}})))}}}]),e}(jo);function Ds(t){var e=this,n=t.type,r=t.value,i=t.fn,o=t.easing,a=void 0;return"interval"===n?((a=new no.Tween({time:r[0]})).to({time:r[1]},r[1]-r[0]),a._onUpdate((function(t){var n=t.time,o=(n-r[0])/(r[1]-r[0]),a=n/e._totalTime;i(n,o,a)})),o&&a.easing(o)):"point"===n&&(a=new no.Tween({time:r})).duration(100),a._onStart((function(t){var n=t.time;i(n,0,n/e._totalTime)})),a}function Ns(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=!1;"boolean"==typeof n[n.length-1]&&(i=n.pop());var o=void 0;if(0===(o=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&!r._isPlaying})):this._transactions.filter((function(t){return!t.tween._isPlaying}))).length)return!1;var a=o.map((function(e){var n=e.tween,r=e.fn;return new Ms((function(e){n._onStart((function(n){var i=n.time;r(i,0,i/t._totalTime),e()}))}))}));Ms.race(a).then((function(){t.dispatchEvent({type:zo,transactions:o})}));var s=o.map((function(t){var e=t.tween;t.type,t.value;return new Ms((function(t){e._onComplete((function(){t()}))}))}));Ms.all(s).then((function(){t.dispatchEvent({type:"complete",transactions:o})}));var u=o.map((function(t){var e=t.tween;t.type,t.value;return new Ms((function(n){e._onFinish((function(e,r){t.finishType=r,n()}))}))}));Ms.all(u).then((function(){var e=o.map((function(t){return t.finishType}));"function"==typeof t._nextSegmentStrat&&e.includes("complete")?(t._nextSegment.hasEventListener(zo,t._currentSegmentFinish2nextSegmentStartCallback)&&t._nextSegment.removeEventListener(zo,t._currentSegmentFinish2nextSegmentStartCallback),t._currentSegmentFinish2nextSegmentStartCallback=function(){t._nextSegment.removeEventListener(zo,t._currentSegmentFinish2nextSegmentStartCallback),t._currentSegmentFinish2nextSegmentStartCallback=null,t.dispatchEvent({type:Mo,transactions:o})},t._nextSegment.addEventListener(zo,t._currentSegmentFinish2nextSegmentStartCallback),t._nextSegmentStrat()):t.dispatchEvent({type:Mo,transactions:o})})),o.forEach((function(e){var n=e.tween,r=e.type,o=e.value;i?"interval"===r?n.delay(t._totalTime-o[1]):"point"===r&&n.delay(t._totalTime-o):"interval"===r?n.delay(o[0]):"point"===r&&n.delay(o),n.playback(i),n.start()}))}var Us=function(t){function e(t){so(this,e);var n=yo(this,(e.__proto__||ao(e)).call(this));n._segments=t,n._type="forward",n._isPlaying=!1,n._isPaused=!1;for(var r=n._segments.length,i=function(t){var e=n._segments[t];e.addEventListener(zo,(function(){n._isPlaying&&(n._currentSegment=e)}))},o=0;o<r;o++)i(o);return n}return So(e,t),mo(e,[{key:"start",value:function(t){var e=this;if(this._isPlaying)return!1;if(this._isPlaying=!0,this._isPaused=!1,!Bs.hasOwnProperty(this._type))throw this._isPlaying=!1,new Error("not set arrange type!");if(Bs[this._type].call(this,t),!(this._startSegment instanceof Rs)||"function"!=typeof this._startSegmentStart)throw this._isPlaying=!1,new Error("start segment not instanceof Segment!");this._endSegment.hasEventListener(Mo,this._endSegmentFinishCallback)&&this._endSegment.removeEventListener(Mo,this._endSegmentFinishCallback),this._endSegmentFinishCallback=function(t){var n=t.transactions;if(e._isPlaying){e._isPlaying=!1,e._endSegment.removeEventListener(Mo,e._endSegmentFinishCallback),e._endSegmentFinishCallback=void 0;var r=n.map((function(t){return t.finishType}));"function"==typeof e._nextArrangeStrat&&r.includes("complete")?(e._nextArrange.hasEventListener(zo,e._currentArrangeFinish2nextArrangeStartCallback)&&e._nextArrange.removeEventListener(zo,e._currentArrangeFinish2nextArrangeStartCallback),e._currentArrangeFinish2nextArrangeStartCallback=function(){e._nextArrange.removeEventListener(zo,e._currentArrangeFinish2nextArrangeStartCallback),e._currentArrangeFinish2nextArrangeStartCallback=null,e.dispatchEvent({type:Mo})},e._nextArrange.addEventListener(zo,e._currentArrangeFinish2nextArrangeStartCallback),e._nextArrangeStrat()):e.dispatchEvent({type:Mo})}},this._endSegment.addEventListener(Mo,this._endSegmentFinishCallback),this._endSegment.hasEventListener("complete",this._endSegmentCompleteCallback)&&this._endSegment.removeEventListener("complete",this._endSegmentCompleteCallback),this._endSegmentCompleteCallback=function(t){e._isPlaying&&(e._endSegment.removeEventListener("complete",e._endSegmentCompleteCallback),e._endSegmentCompleteCallback=void 0,e.dispatchEvent({type:"complete"}))},this._endSegment.addEventListener("complete",this._endSegmentCompleteCallback),this._startSegment.hasEventListener(zo,this._startSegmentCompleteCallback)&&this._startSegment.removeEventListener(zo,this._startSegmentCompleteCallback),this._startSegmentCompleteCallback=function(){e._startSegment.removeEventListener(zo,e._startSegmentCompleteCallback),e._startSegmentCompleteCallback=void 0,e.dispatchEvent({type:zo})},this._startSegment.addEventListener(zo,this._startSegmentCompleteCallback),this._startSegmentStart()}},{key:"stop",value:function(){var t=this;if(!this._isPlaying)return!1;this._currentSegment instanceof Rs&&(this._currentSegment!==this._endSegment&&(this._currentSegment.hasEventListener(Mo,this._currentSegmentFinishForStopCallback)&&this._currentSegment.removeEventListener(Mo,this._currentSegmentFinishForStopCallback),this._currentSegmentFinishForStopCallback=function(){t._isPlaying=!1,t._currentSegment.removeEventListener(Mo,t._currentSegmentFinishForStopCallback),t._currentSegmentFinishForStopCallback=void 0,t.dispatchEvent({type:Mo})},this._currentSegment.addEventListener(Mo,this._currentSegmentFinishForStopCallback)),this._currentSegment.stop(),this.dispatchEvent({type:"stop"}))}},{key:"pause",value:function(){var t=this;if(!this._isPlaying||this._isPaused)return!1;this._currentSegment instanceof Rs&&(this._currentSegment.hasEventListener(Io,this._currentSegmentPauseCallback)&&this._currentSegment.removeEventListener(Io,this._currentSegmentPauseCallback),this._currentSegmentPauseCallback=function(){t._isPaused=!0,t._currentSegment.removeEventListener(Io,t._currentSegmentPauseCallback),t._currentSegmentPauseCallback=void 0,t.dispatchEvent({type:Io})},this._currentSegment.addEventListener(Io,this._currentSegmentPauseCallback),this._currentSegment.pause())}},{key:"resume",value:function(){var t=this;if(!this._isPlaying||!this._isPaused)return!1;this._currentSegment instanceof Rs&&(this._currentSegment.hasEventListener(Ro,this._currentSegmentResumeCallback)&&this._currentSegment.removeEventListener(Ro,this._currentSegmentResumeCallback),this._currentSegmentResumeCallback=function(){t._isPaused=!1,t._currentSegment.removeEventListener(Ro,t._currentSegmentResumeCallback),t._currentSegmentResumeCallback=void 0,t.dispatchEvent({type:Ro})},this._currentSegment.addEventListener(Ro,this._currentSegmentResumeCallback),this._currentSegment.resume())}},{key:"chain",value:function(t){t instanceof e&&(this._nextArrange=t,this._nextArrangeStrat=t.start.bind(t))}},{key:"removeChain",value:function(){delete this._nextArrange,delete this._nextArrangeStrat}},{key:"execute",value:function(t){var e=this;if(!this._isPlaying||!(t instanceof Rs)||this._executeing)return!1;this._executeing=!0;var n=this._isPaused;this.hasEventListener(Mo,this._executeForPrevFinishCallback)&&this.removeEventListener(Mo,this._executeForPrevFinishCallback),this._executeForPrevFinishCallback=function(){n?(t.hasEventListener(Mo,e._executeForTargetSegmentFinishCallback)&&t.removeEventListener(Mo,e._executeForTargetSegmentFinishCallback),e._executeForTargetSegmentFinishCallback=function(){e.pause(),e._executeing=!1,t.removeEventListener(Mo,e._executeForTargetSegmentFinishCallback),e._executeForTargetSegmentFinishCallback=void 0},t.addEventListener(Mo,e._executeForTargetSegmentFinishCallback)):e._executeing=!1,e.start(t),e.removeEventListener(Mo,e._executeForPrevFinishCallback),e._executeForPrevFinishCallback=void 0},this.addEventListener(Mo,this._executeForPrevFinishCallback),this.stop()}},{key:"switch",value:function(t){var e=this;if(!this._isPlaying||!(t instanceof Rs)||this._switching)return!1;this._switching=!0;var n=this._isPaused;this.hasEventListener(Mo,this._switchForPrevFinishCallback)&&this.removeEventListener(Mo,this._switchForPrevFinishCallback),this._switchForPrevFinishCallback=function(){n?(e.hasEventListener(zo,e._switchForStartAfterCallback)&&e.removeEventListener(zo,e._switchForStartAfterCallback),e._switchForStartAfterCallback=function(){e.pause(),e._switching=!1,e.removeEventListener(zo,e._switchForStartAfterCallback),e._switchForStartAfterCallback=void 0},e.addEventListener(zo,e._switchForStartAfterCallback)):e._switching=!1,e.start(t),e.removeEventListener(Mo,e._switchForPrevFinishCallback),e._switchForPrevFinishCallback=void 0},this.addEventListener(Mo,this._switchForPrevFinishCallback),this.stop()}},{key:"forward",value:function(){this._type="forward"}},{key:"back",value:function(){this._type="back"}}]),e}(jo),Bs={discrete:function(){for(var t=this._segments.length,e=0;e<t;e++)this._segments[e].removeChain()},forward:function(t){Bs.discrete.call(this);for(var e=this._segments.length,n=0;n<e;n++){var r=this._segments[n],i=this._segments[n+1];r instanceof Rs&&i instanceof Rs&&r.chain(i)}t instanceof Rs&&this._segments.includes(t)?this._startSegment=t:this._startSegment=this._segments[0],this._startSegmentStart=this._startSegment.start.bind(this._startSegment),this._endSegment=this._segments[e-1]},back:function(t){Bs.discrete.call(this);var e=this._segments.length;this._endSegment=this._segments[0];for(var n=e-1;n>=0;n--){var r=this._segments[n],i=this._segments[n-1];r instanceof Rs&&i instanceof Rs&&r.chain(i,!0)}t instanceof Rs&&this._segments.includes(t)?this._startSegment=t:this._startSegment=this._segments[e-1],this._startSegmentStart=this._startSegment.playback.bind(this._startSegment),this._endSegment=this._segments[0]}},Vs=function(t){function e(){so(this,e);var t=yo(this,(e.__proto__||ao(e)).call(this));return t._segments=[],t._currentArrange,t._isPlaying=!1,t._isPaused=!1,t._repeat=1,t._arrangements=[],t}return So(e,t),mo(e,[{key:"addSegment",value:function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(t){if(!(t instanceof Rs))throw new Error("not instanceof Segment!")})),(t=this._segments).push.apply(t,n)}},{key:"pushForwardArrange",value:function(){var t=new Us(this._segments);return t.forward(),Gs.call(this,t),this._arrangements.push(t),t}},{key:"pushBackArrange",value:function(){var t=new Us(this._segments);return t.back(),Gs.call(this,t),this._arrangements.push(t),t}},{key:"getArrangements",value:function(){return this._arrangements}},{key:"clearArrangements",value:function(){this._arrangements=[]}},{key:"start",value:function(){var t=this;if(this._isPlaying)return!1;var e=void 0,n=void 0;arguments.length>0&&(1===arguments.length?n=arguments.length<=0?void 0:arguments[0]:(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1])),this._isPlaying=!0,this._isPaused=!1;var r=this._arrangements.length;if(0===r){var i=this.pushForwardArrange();this._defaultArrangeForPrevFinishCallback=function(){i.removeEventListener(Mo,t._defaultArrangeForPrevFinishCallback),t._defaultArrangeForPrevFinishCallback=void 0,t.clearArrangements()},i.addEventListener(Mo,this._defaultArrangeForPrevFinishCallback),r=1}for(var o=0;o<r;o++){var a=this._arrangements[o],s=this._arrangements[o+1];a instanceof Us&&s instanceof Us&&a.chain(s)}e instanceof Us&&this._arrangements.includes(e)?this._startArrange=e:this._startArrange=this._arrangements[0],this._endArrange=this._arrangements[r-1],this._endArrange.hasEventListener(Mo,this._endArrangeEventListenerFn)&&this._endArrange.removeEventListener(Mo,this._endArrangeEventListenerFn);var u=0;this._endArrangeEventListenerFn=function(){t._isPlaying&&(++u>=t._repeat||t._needStop?(t._isPlaying=!1,t._endArrange.removeEventListener(Mo,t._endArrangeEventListenerFn),t._endArrangeEventListenerFn=void 0,u>=t._repeat&&!t._needStop&&t.dispatchEvent({type:"complete"}),t._currentArrange===t._endArrange&&(t._needStop=!1,t.dispatchEvent({type:Mo}))):t._startArrange.start())},this._endArrange.addEventListener(Mo,this._endArrangeEventListenerFn),this._startArrange.hasEventListener(zo,this._startArrangeCompleteCallback)&&this._startArrange.removeEventListener(zo,this._startArrangeCompleteCallback),this._startArrangeCompleteCallback=function(){t._startArrange.removeEventListener(zo,t._startArrangeCompleteCallback),t._startArrangeCompleteCallback=void 0,t.dispatchEvent({type:zo})},this._startArrange.addEventListener(zo,this._startArrangeCompleteCallback),this._startArrange.start(n)}},{key:"repeat",value:function(t){if("number"!=typeof t||t<=0)throw new Error("Invalid repeat!");this._repeat=t}},{key:"loop",value:function(){this._repeat=1/0}},{key:"stop",value:function(){var t=this;if(!this._isPlaying)return!1;this._currentArrange instanceof Us&&(this._needStop=!0,this._currentArrange!==this._endArrange&&(this._isPlaying=!1),this._currentArrange!==this._endArrange&&(this._needStop=!1,this._currentArrange.hasEventListener(Mo,this._currentArrangeFinishForStopCallback)&&this._currentArrange.removeEventListener(Mo,this._currentArrangeFinishForStopCallback),this._currentArrangeFinishForStopCallback=function(){t._currentArrange.removeEventListener(Mo,t._currentArrangeFinishForStopCallback),t._currentArrangeFinishForStopCallback=void 0,t.dispatchEvent({type:Mo})},this._currentArrange.addEventListener(Mo,this._currentArrangeFinishForStopCallback)),this._currentArrange.stop(),this.dispatchEvent({type:"stop"}))}},{key:"pause",value:function(){var t=this;if(!this._isPlaying||this._isPaused)return!1;this._currentArrange instanceof Us&&(this._currentArrange.hasEventListener(Io,this._currentArrangePauseCallback)&&this._currentArrange.removeEventListener(Io,this._currentArrangePauseCallback),this._currentArrangePauseCallback=function(){t._isPaused=!0,t._currentArrange.removeEventListener(Io,t._currentArrangePauseCallback),t._currentArrangePauseCallback=void 0,t.dispatchEvent({type:Io})},this._currentArrange.addEventListener(Io,this._currentArrangePauseCallback),this._currentArrange.pause())}},{key:"resume",value:function(){var t=this;if(!this._isPlaying||!this._isPaused)return!1;this._currentArrange instanceof Us&&(this._currentArrange.hasEventListener(Ro,this._currentArrangeResumeCallback)&&this._currentArrange.removeEventListener(Ro,this._currentArrangeResumeCallback),this._currentArrangeResumeCallback=function(){t._isPaused=!1,t._currentArrange.removeEventListener(Ro,t._currentArrangeResumeCallback),t._currentArrangeResumeCallback=void 0,t.dispatchEvent({type:Ro})},this._currentArrange.addEventListener(Ro,this._currentArrangeResumeCallback),this._currentArrange.resume())}},{key:"execute",value:function(){var t=this,e=void 0,n=void 0;if(0===arguments.length)return!1;if(1===arguments.length?n=arguments.length<=0?void 0:arguments[0]:(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]),!this._isPlaying||!(n instanceof Rs)||this._executeing)return!1;this._executeing=!0;var r=this._isPaused;this.hasEventListener(Mo,this._executeForPrevFinishCallback)&&this.removeEventListener(Mo,this._executeForPrevFinishCallback),this._executeForPrevFinishCallback=function(){r?(n.hasEventListener(Mo,t._executeForTargetSegmentFinishCallback)&&n.removeEventListener(Mo,t._executeForTargetSegmentFinishCallback),t._executeForTargetSegmentFinishCallback=function(){t.pause(),t._executeing=!1,n.removeEventListener(Mo,t._executeForTargetSegmentFinishCallback),t._executeForTargetSegmentFinishCallback=void 0},n.addEventListener(Mo,t._executeForTargetSegmentFinishCallback)):t._executeing=!1,e?t.start(e,n):t.start(n),t.removeEventListener(Mo,t._executeForPrevFinishCallback),t._executeForPrevFinishCallback=void 0},this.addEventListener(Mo,this._executeForPrevFinishCallback),this.stop()}},{key:"switch",value:function(){var t=this,e=void 0,n=void 0;if(0===arguments.length)return!1;if(1===arguments.length?n=arguments.length<=0?void 0:arguments[0]:(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]),!this._isPlaying||!(n instanceof Rs)||this._switching)return!1;this._switching=!0;var r=this._isPaused;this.hasEventListener(Mo,this._switchForPrevFinishCallback)&&this.removeEventListener(Mo,this._switchForPrevFinishCallback),this._switchForPrevFinishCallback=function(){r?(t.hasEventListener(zo,t._switchForStartAfterCallback)&&t.removeEventListener(zo,t._switchForStartAfterCallback),t._switchForStartAfterCallback=function(){t.pause(),t._switching=!1,t.removeEventListener(zo,t._switchForStartAfterCallback),t._switchForStartAfterCallback=void 0},t.addEventListener(zo,t._switchForStartAfterCallback)):t._switching=!1,e?t.start(e,n):t.start(n),t.removeEventListener(Mo,t._switchForPrevFinishCallback),t._switchForPrevFinishCallback=void 0},this.addEventListener(Mo,this._switchForPrevFinishCallback),this.stop()}}]),e}(jo);function Gs(t){var e=this;t.addEventListener(zo,(function(){e._isPlaying&&(e._currentArrange=t)}))}return Vs.update=function(){no.update()},Vs.Easing=no.Easing,Vs.Arrange=Us,Vs.Segment=Rs,Vs}));
