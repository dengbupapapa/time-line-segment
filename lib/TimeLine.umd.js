!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).TimeLine=e()}(this,(function(){"use strict";var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}var r=e,i=n;function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===e||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}"function"==typeof t.setTimeout&&(r=setTimeout),"function"==typeof t.clearTimeout&&(i=clearTimeout);var a,s=[],u=!1,l=-1;function c(){u&&a&&(u=!1,a.length?s=a.concat(s):l=-1,s.length&&_())}function _(){if(!u){var t=o(c);u=!0;for(var e=s.length;e;){for(a=s,s=[];++l<e;)a&&a[l].run();l=-1,e=s.length}a=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===n||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}f.prototype.run=function(){this.fun.apply(null,this.array)};function h(){}var p=h,d=h,v=h,m=h,g=h,y=h,b=h;var S=t.performance||{},E=S.now||S.mozNow||S.msNow||S.oNow||S.webkitNow||function(){return(new Date).getTime()};var w=new Date;var k={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new f(t,e)),1!==s.length||u||o(_)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:p,addListener:d,once:v,off:m,removeListener:g,removeAllListeners:y,emit:b,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*E.call(S),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-w)/1e3}};function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C(t,e){return t(e={exports:{}},e.exports),e.exports}var O=C((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),P=Object.freeze({__proto__:null,default:O,__moduleExports:O}),F=C((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),j=F.version,A=Object.freeze({__proto__:null,default:F,__moduleExports:F,version:j}),L=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},T=Object.freeze({__proto__:null,default:L,__moduleExports:L}),z=T&&L||T,M=function(t,e,n){if(z(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},I=Object.freeze({__proto__:null,default:M,__moduleExports:M}),R=function(t){return"object"==typeof t?null!==t:"function"==typeof t},N=Object.freeze({__proto__:null,default:R,__moduleExports:R}),D=N&&R||N,U=function(t){if(!D(t))throw TypeError(t+" is not an object!");return t},B=Object.freeze({__proto__:null,default:U,__moduleExports:U}),V=function(t){try{return!!t()}catch(t){return!0}},G=Object.freeze({__proto__:null,default:V,__moduleExports:V}),W=G&&V||G,K=!W((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),q=Object.freeze({__proto__:null,default:K,__moduleExports:K}),H=P&&O||P,Y=H.document,J=D(Y)&&D(Y.createElement),Q=function(t){return J?Y.createElement(t):{}},X=Object.freeze({__proto__:null,default:Q,__moduleExports:Q}),Z=q&&K||q,$=X&&Q||X,tt=!Z&&!W((function(){return 7!=Object.defineProperty($("div"),"a",{get:function(){return 7}}).a})),et=Object.freeze({__proto__:null,default:tt,__moduleExports:tt}),nt=function(t,e){if(!D(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!D(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!D(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!D(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},rt=Object.freeze({__proto__:null,default:nt,__moduleExports:nt}),it=B&&U||B,ot=et&&tt||et,at=rt&&nt||rt,st=Object.defineProperty,ut=Z?Object.defineProperty:function(t,e,n){if(it(t),e=at(e,!0),it(n),ot)try{return st(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},lt={f:ut},ct=Object.freeze({__proto__:null,default:lt,__moduleExports:lt,f:ut}),_t=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ft=Object.freeze({__proto__:null,default:_t,__moduleExports:_t}),ht=ct&&lt||ct,pt=ft&&_t||ft,dt=Z?function(t,e,n){return ht.f(t,e,pt(1,n))}:function(t,e,n){return t[e]=n,t},vt=Object.freeze({__proto__:null,default:dt,__moduleExports:dt}),mt={}.hasOwnProperty,gt=function(t,e){return mt.call(t,e)},yt=Object.freeze({__proto__:null,default:gt,__moduleExports:gt}),bt=A&&F||A,St=I&&M||I,Et=vt&&dt||vt,wt=yt&&gt||yt,kt=function(t,e,n){var r,i,o,a=t&kt.F,s=t&kt.G,u=t&kt.S,l=t&kt.P,c=t&kt.B,_=t&kt.W,f=s?bt:bt[e]||(bt[e]={}),h=f.prototype,p=s?H:u?H[e]:(H[e]||{}).prototype;for(r in s&&(n=e),n)(i=!a&&p&&void 0!==p[r])&&wt(f,r)||(o=i?p[r]:n[r],f[r]=s&&"function"!=typeof p[r]?n[r]:c&&i?St(o,H):_&&p[r]==o?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(o):l&&"function"==typeof o?St(Function.call,o):o,l&&((f.virtual||(f.virtual={}))[r]=o,t&kt.R&&h&&!h[r]&&Et(h,r,o)))};kt.F=1,kt.G=2,kt.S=4,kt.P=8,kt.B=16,kt.W=32,kt.U=64,kt.R=128;var xt=kt,Ct=Object.freeze({__proto__:null,default:xt,__moduleExports:xt}),Ot={}.toString,Pt=function(t){return Ot.call(t).slice(8,-1)},Ft=Object.freeze({__proto__:null,default:Pt,__moduleExports:Pt}),jt=Ft&&Pt||Ft,At=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==jt(t)?t.split(""):Object(t)},Lt=Object.freeze({__proto__:null,default:At,__moduleExports:At}),Tt=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},zt=Object.freeze({__proto__:null,default:Tt,__moduleExports:Tt}),Mt=Lt&&At||Lt,It=zt&&Tt||zt,Rt=function(t){return Mt(It(t))},Nt=Object.freeze({__proto__:null,default:Rt,__moduleExports:Rt}),Dt=Math.ceil,Ut=Math.floor,Bt=function(t){return isNaN(t=+t)?0:(t>0?Ut:Dt)(t)},Vt=Object.freeze({__proto__:null,default:Bt,__moduleExports:Bt}),Gt=Vt&&Bt||Vt,Wt=Math.min,Kt=function(t){return t>0?Wt(Gt(t),9007199254740991):0},qt=Object.freeze({__proto__:null,default:Kt,__moduleExports:Kt}),Ht=Math.max,Yt=Math.min,Jt=function(t,e){return(t=Gt(t))<0?Ht(t+e,0):Yt(t,e)},Qt=Object.freeze({__proto__:null,default:Jt,__moduleExports:Jt}),Xt=Nt&&Rt||Nt,Zt=qt&&Kt||qt,$t=Qt&&Jt||Qt,te=function(t){return function(e,n,r){var i,o=Xt(e),a=Zt(o.length),s=$t(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ee=Object.freeze({__proto__:null,default:te,__moduleExports:te}),ne=Object.freeze({__proto__:null,default:!0,__moduleExports:!0}),re=!!ne||ne,ie=C((function(t){var e=H["__core-js_shared__"]||(H["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:bt.version,mode:re?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),oe=Object.freeze({__proto__:null,default:ie,__moduleExports:ie}),ae=0,se=Math.random(),ue=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++ae+se).toString(36))},le=Object.freeze({__proto__:null,default:ue,__moduleExports:ue}),ce=oe&&ie||oe,_e=le&&ue||le,fe=ce("keys"),he=function(t){return fe[t]||(fe[t]=_e(t))},pe=Object.freeze({__proto__:null,default:he,__moduleExports:he}),de=pe&&he||pe,ve=(ee&&te||ee)(!1),me=de("IE_PROTO"),ge=function(t,e){var n,r=Xt(t),i=0,o=[];for(n in r)n!=me&&wt(r,n)&&o.push(n);for(;e.length>i;)wt(r,n=e[i++])&&(~ve(o,n)||o.push(n));return o},ye=Object.freeze({__proto__:null,default:ge,__moduleExports:ge}),be="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Se=Object.freeze({__proto__:null,default:be,__moduleExports:be}),Ee=ye&&ge||ye,we=Se&&be||Se,ke=Object.keys||function(t){return Ee(t,we)},xe=Object.freeze({__proto__:null,default:ke,__moduleExports:ke}),Ce=xe&&ke||xe,Oe=Z?Object.defineProperties:function(t,e){it(t);for(var n,r=Ce(e),i=r.length,o=0;i>o;)ht.f(t,n=r[o++],e[n]);return t},Pe=Object.freeze({__proto__:null,default:Oe,__moduleExports:Oe}),Fe=H.document,je=Fe&&Fe.documentElement,Ae=Object.freeze({__proto__:null,default:je,__moduleExports:je}),Le=Pe&&Oe||Pe,Te=Ae&&je||Ae,ze=de("IE_PROTO"),Me=function(){},Ie=function(){var t,e=$("iframe"),n=we.length;for(e.style.display="none",Te.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ie=t.F;n--;)delete Ie.prototype[we[n]];return Ie()},Re=Object.create||function(t,e){var n;return null!==t?(Me.prototype=it(t),n=new Me,Me.prototype=null,n[ze]=t):n=Ie(),void 0===e?n:Le(n,e)},Ne=Object.freeze({__proto__:null,default:Re,__moduleExports:Re}),De=Ct&&xt||Ct,Ue=Ne&&Re||Ne;De(De.S,"Object",{create:Ue});var Be=bt.Object,Ve=function(t,e){return Be.create(t,e)},Ge=Object.freeze({__proto__:null,default:Ve,__moduleExports:Ve}),We=Ge&&Ve||Ge,Ke=C((function(t){t.exports={default:We,__esModule:!0}})),qe=x(Ke),He={}.propertyIsEnumerable,Ye={f:He},Je=Object.freeze({__proto__:null,default:Ye,__moduleExports:Ye,f:He}),Qe=Je&&Ye||Je,Xe=Object.getOwnPropertyDescriptor,Ze=Z?Xe:function(t,e){if(t=Xt(t),e=at(e,!0),ot)try{return Xe(t,e)}catch(t){}if(wt(t,e))return pt(!Qe.f.call(t,e),t[e])},$e={f:Ze},tn=Object.freeze({__proto__:null,default:$e,__moduleExports:$e,f:Ze}),en=tn&&$e||tn,nn=function(t,e){if(it(t),!D(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},rn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=St(Function.call,en.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return nn(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:nn},on=rn.set,an=rn.check,sn=Object.freeze({__proto__:null,default:rn,__moduleExports:rn,set:on,check:an}),un=sn&&rn||sn;De(De.S,"Object",{setPrototypeOf:un.set});var ln=bt.Object.setPrototypeOf,cn=Object.freeze({__proto__:null,default:ln,__moduleExports:ln}),_n=cn&&ln||cn,fn=C((function(t){t.exports={default:_n,__esModule:!0}})),hn=x(fn),pn=function(t){return function(e,n){var r,i,o=String(It(e)),a=Gt(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},dn=Object.freeze({__proto__:null,default:pn,__moduleExports:pn}),vn=Et,mn=Object.freeze({__proto__:null,default:vn,__moduleExports:vn}),gn={},yn=Object.freeze({__proto__:null,default:gn,__moduleExports:gn}),bn=C((function(t){var e=ce("wks"),n=H.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:_e)("Symbol."+t))}).store=e})),Sn=Object.freeze({__proto__:null,default:bn,__moduleExports:bn}),En=Sn&&bn||Sn,wn=ht.f,kn=En("toStringTag"),xn=function(t,e,n){t&&!wt(t=n?t:t.prototype,kn)&&wn(t,kn,{configurable:!0,value:e})},Cn=Object.freeze({__proto__:null,default:xn,__moduleExports:xn}),On=Cn&&xn||Cn,Pn={};Et(Pn,En("iterator"),(function(){return this}));var Fn=function(t,e,n){t.prototype=Ue(Pn,{next:pt(1,n)}),On(t,e+" Iterator")},jn=Object.freeze({__proto__:null,default:Fn,__moduleExports:Fn}),An=function(t){return Object(It(t))},Ln=Object.freeze({__proto__:null,default:An,__moduleExports:An}),Tn=Ln&&An||Ln,zn=de("IE_PROTO"),Mn=Object.prototype,In=Object.getPrototypeOf||function(t){return t=Tn(t),wt(t,zn)?t[zn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Mn:null},Rn=Object.freeze({__proto__:null,default:In,__moduleExports:In}),Nn=mn&&vn||mn,Dn=yn&&gn||yn,Un=jn&&Fn||jn,Bn=Rn&&In||Rn,Vn=En("iterator"),Gn=!([].keys&&"next"in[].keys()),Wn=function(){return this},Kn=function(t,e,n,r,i,o,a){Un(n,e,r);var s,u,l,c=function(t){if(!Gn&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",f="values"==i,h=!1,p=t.prototype,d=p[Vn]||p["@@iterator"]||i&&p[i],v=d||c(i),m=i?f?c("entries"):v:void 0,g="Array"==e&&p.entries||d;if(g&&(l=Bn(g.call(new t)))!==Object.prototype&&l.next&&(On(l,_,!0),re||"function"==typeof l[Vn]||Et(l,Vn,Wn)),f&&d&&"values"!==d.name&&(h=!0,v=function(){return d.call(this)}),re&&!a||!Gn&&!h&&p[Vn]||Et(p,Vn,v),Dn[e]=v,Dn[_]=Wn,i)if(s={values:f?v:c("values"),keys:o?v:c("keys"),entries:m},a)for(u in s)u in p||Nn(p,u,s[u]);else De(De.P+De.F*(Gn||h),e,s);return s},qn=Object.freeze({__proto__:null,default:Kn,__moduleExports:Kn}),Hn=qn&&Kn||qn,Yn=(dn&&pn||dn)(!0);Hn(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Yn(e,n),this._i+=t.length,{value:t,done:!1})}));var Jn=function(){},Qn=Object.freeze({__proto__:null,default:Jn,__moduleExports:Jn}),Xn=function(t,e){return{value:e,done:!!t}},Zn=Object.freeze({__proto__:null,default:Xn,__moduleExports:Xn}),$n=Qn&&Jn||Qn,tr=Zn&&Xn||Zn;Hn(Array,"Array",(function(t,e){this._t=Xt(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,tr(1)):tr(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");Dn.Arguments=Dn.Array,$n("keys"),$n("values"),$n("entries");for(var er=En("toStringTag"),nr="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),rr=0;rr<nr.length;rr++){var ir=nr[rr],or=H[ir],ar=or&&or.prototype;ar&&!ar[er]&&Et(ar,er,ir),Dn[ir]=Dn.Array}var sr=En,ur={f:sr},lr=Object.freeze({__proto__:null,default:ur,__moduleExports:ur,f:sr}),cr=lr&&ur||lr,_r=cr.f("iterator"),fr=Object.freeze({__proto__:null,default:_r,__moduleExports:_r}),hr=fr&&_r||fr,pr=C((function(t){t.exports={default:hr,__esModule:!0}})),dr=x(pr),vr=Object.freeze({__proto__:null,default:dr,__moduleExports:pr}),mr=C((function(t){var e=_e("meta"),n=ht.f,r=0,i=Object.isExtensible||function(){return!0},o=!W((function(){return i(Object.preventExtensions({}))})),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!D(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!wt(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!wt(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!wt(t,e)&&a(t),t}}})),gr=mr.KEY,yr=mr.NEED,br=mr.fastKey,Sr=mr.getWeak,Er=mr.onFreeze,wr=Object.freeze({__proto__:null,default:mr,__moduleExports:mr,KEY:gr,NEED:yr,fastKey:br,getWeak:Sr,onFreeze:Er}),kr=ht.f,xr=function(t){var e=bt.Symbol||(bt.Symbol=re?{}:H.Symbol||{});"_"==t.charAt(0)||t in e||kr(e,t,{value:cr.f(t)})},Cr=Object.freeze({__proto__:null,default:xr,__moduleExports:xr}),Or=Object.getOwnPropertySymbols,Pr={f:Or},Fr=Object.freeze({__proto__:null,default:Pr,__moduleExports:Pr,f:Or}),jr=Fr&&Pr||Fr,Ar=function(t){var e=Ce(t),n=jr.f;if(n)for(var r,i=n(t),o=Qe.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e},Lr=Object.freeze({__proto__:null,default:Ar,__moduleExports:Ar}),Tr=Array.isArray||function(t){return"Array"==jt(t)},zr=Object.freeze({__proto__:null,default:Tr,__moduleExports:Tr}),Mr=we.concat("length","prototype"),Ir=Object.getOwnPropertyNames||function(t){return Ee(t,Mr)},Rr={f:Ir},Nr=Object.freeze({__proto__:null,default:Rr,__moduleExports:Rr,f:Ir}),Dr=Nr&&Rr||Nr,Ur=Dr.f,Br={}.toString,Vr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gr=function(t){return Vr&&"[object Window]"==Br.call(t)?function(t){try{return Ur(t)}catch(t){return Vr.slice()}}(t):Ur(Xt(t))},Wr={f:Gr},Kr=Object.freeze({__proto__:null,default:Wr,__moduleExports:Wr,f:Gr}),qr=Cr&&xr||Cr,Hr=Lr&&Ar||Lr,Yr=zr&&Tr||zr,Jr=Kr&&Wr||Kr,Qr=(wr&&mr||wr).KEY,Xr=en.f,Zr=ht.f,$r=Jr.f,ti=H.Symbol,ei=H.JSON,ni=ei&&ei.stringify,ri=En("_hidden"),ii=En("toPrimitive"),oi={}.propertyIsEnumerable,ai=ce("symbol-registry"),si=ce("symbols"),ui=ce("op-symbols"),li=Object.prototype,ci="function"==typeof ti&&!!jr.f,_i=H.QObject,fi=!_i||!_i.prototype||!_i.prototype.findChild,hi=Z&&W((function(){return 7!=Ue(Zr({},"a",{get:function(){return Zr(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Xr(li,e);r&&delete li[e],Zr(t,e,n),r&&t!==li&&Zr(li,e,r)}:Zr,pi=function(t){var e=si[t]=Ue(ti.prototype);return e._k=t,e},di=ci&&"symbol"==typeof ti.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof ti},vi=function(t,e,n){return t===li&&vi(ui,e,n),it(t),e=at(e,!0),it(n),wt(si,e)?(n.enumerable?(wt(t,ri)&&t[ri][e]&&(t[ri][e]=!1),n=Ue(n,{enumerable:pt(0,!1)})):(wt(t,ri)||Zr(t,ri,pt(1,{})),t[ri][e]=!0),hi(t,e,n)):Zr(t,e,n)},mi=function(t,e){it(t);for(var n,r=Hr(e=Xt(e)),i=0,o=r.length;o>i;)vi(t,n=r[i++],e[n]);return t},gi=function(t){var e=oi.call(this,t=at(t,!0));return!(this===li&&wt(si,t)&&!wt(ui,t))&&(!(e||!wt(this,t)||!wt(si,t)||wt(this,ri)&&this[ri][t])||e)},yi=function(t,e){if(t=Xt(t),e=at(e,!0),t!==li||!wt(si,e)||wt(ui,e)){var n=Xr(t,e);return!n||!wt(si,e)||wt(t,ri)&&t[ri][e]||(n.enumerable=!0),n}},bi=function(t){for(var e,n=$r(Xt(t)),r=[],i=0;n.length>i;)wt(si,e=n[i++])||e==ri||e==Qr||r.push(e);return r},Si=function(t){for(var e,n=t===li,r=$r(n?ui:Xt(t)),i=[],o=0;r.length>o;)!wt(si,e=r[o++])||n&&!wt(li,e)||i.push(si[e]);return i};ci||(Nn((ti=function(){if(this instanceof ti)throw TypeError("Symbol is not a constructor!");var t=_e(arguments.length>0?arguments[0]:void 0),e=function(n){this===li&&e.call(ui,n),wt(this,ri)&&wt(this[ri],t)&&(this[ri][t]=!1),hi(this,t,pt(1,n))};return Z&&fi&&hi(li,t,{configurable:!0,set:e}),pi(t)}).prototype,"toString",(function(){return this._k})),en.f=yi,ht.f=vi,Dr.f=Jr.f=bi,Qe.f=gi,jr.f=Si,Z&&!re&&Nn(li,"propertyIsEnumerable",gi,!0),cr.f=function(t){return pi(En(t))}),De(De.G+De.W+De.F*!ci,{Symbol:ti});for(var Ei="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),wi=0;Ei.length>wi;)En(Ei[wi++]);for(var ki=Ce(En.store),xi=0;ki.length>xi;)qr(ki[xi++]);De(De.S+De.F*!ci,"Symbol",{for:function(t){return wt(ai,t+="")?ai[t]:ai[t]=ti(t)},keyFor:function(t){if(!di(t))throw TypeError(t+" is not a symbol!");for(var e in ai)if(ai[e]===t)return e},useSetter:function(){fi=!0},useSimple:function(){fi=!1}}),De(De.S+De.F*!ci,"Object",{create:function(t,e){return void 0===e?Ue(t):mi(Ue(t),e)},defineProperty:vi,defineProperties:mi,getOwnPropertyDescriptor:yi,getOwnPropertyNames:bi,getOwnPropertySymbols:Si});var Ci=W((function(){jr.f(1)}));De(De.S+De.F*Ci,"Object",{getOwnPropertySymbols:function(t){return jr.f(Tn(t))}}),ei&&De(De.S+De.F*(!ci||W((function(){var t=ti();return"[null]"!=ni([t])||"{}"!=ni({a:t})||"{}"!=ni(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(D(e)||void 0!==t)&&!di(t))return Yr(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!di(e))return e}),r[1]=e,ni.apply(ei,r)}}),ti.prototype[ii]||Et(ti.prototype,ii,ti.prototype.valueOf),On(ti,"Symbol"),On(Math,"Math",!0),On(H.JSON,"JSON",!0),qr("asyncIterator"),qr("observable");var Oi=bt.Symbol,Pi=Object.freeze({__proto__:null,default:Oi,__moduleExports:Oi}),Fi=Pi&&Oi||Pi,ji=C((function(t){t.exports={default:Fi,__esModule:!0}})),Ai=x(ji),Li=vr&&dr||vr,Ti=C((function(t,e){e.__esModule=!0;var n=o(Li),r=o(ji),i="function"==typeof r.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===i(n.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":i(t)}})),zi=x(Ti),Mi=Object.freeze({__proto__:null,default:zi,__moduleExports:Ti}),Ii=function(t,e){var n=(bt.Object||{})[t]||Object[t],r={};r[t]=e(n),De(De.S+De.F*W((function(){n(1)})),"Object",r)},Ri=Object.freeze({__proto__:null,default:Ii,__moduleExports:Ii}),Ni=Ri&&Ii||Ri;Ni("keys",(function(){return function(t){return Ce(Tn(t))}}));var Di,Ui,Bi=bt.Object.keys,Vi=Object.freeze({__proto__:null,default:Bi,__moduleExports:Bi}),Gi=Vi&&Bi||Vi,Wi=x(C((function(t){t.exports={default:Gi,__esModule:!0}}))),Ki="undefined"==typeof self&&void 0!==k&&k.hrtime?function(){var t=k.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},qi=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Wi(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){var n=Wi(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:Ki();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&!e&&delete this._tweens[n[r]]}n=Wi(this._tweensAddedDuringUpdate)}return!0},t}(),Hi={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Hi.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Hi.Bounce.In(2*t):.5*Hi.Bounce.Out(2*t-1)+.5}}},Yi={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Yi.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=Yi.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Yi.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Yi.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(Di=[1],function(t){var e=1;if(Di[t])return Di[t];for(var n=t;n>1;n--)e*=n;return Di[t]=e,e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},Ji=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Qi=function(){function t(t,e){void 0===e&&(e=Zi),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._back=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Zi.Easing.Linear.None,this._interpolationFunction=Zi.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Zi.nextId(),this._isChainStopped=!1}return t.prototype.playback=function(t){this._playback=t},t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){for(var n in t)this._valuesEnd[n]=t[n];return void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?Zi.now()+parseFloat(t):t:Zi.now(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,r){for(var i in n){var o=t[i],a=Array.isArray(o),s=a?"array":void 0===o?"undefined":zi(o),u=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(u){var l=n[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(l)}if("object"!==s&&!a||!o||u)void 0===e[i]&&(e[i]=o),a||(e[i]*=1),r[i]=u?n[i].slice().reverse():e[i]||0;else{for(var c in e[i]=a?[]:{},o)e[i][c]=o[c];r[i]=a?[]:{},this._setupProperties(o,e[i],n[i],r[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this._onFinishCallback&&this._onFinishCallback(this._object,"stop"),this):this},t.prototype.end=function(){return this.update(1/0),this},t.prototype.pause=function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?Zi.now():t,this._group.remove(this),this._onPauseCallback&&this._onPauseCallback()),this},t.prototype.resume=function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?Zi.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this._onResumeCallback&&this._onResumeCallback(),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype._onStart=function(t){return this._onStartCallback=t,this},t.prototype._onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype._onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype._onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype._onFinish=function(t){return this._onFinishCallback=t,this},t.prototype._onStop=function(t){return this._onStopCallback=t,this},t.prototype._onPause=function(t){return this._onPauseCallback=t,this},t.prototype._onResume=function(t){return this._onResumeCallback=t,this},t.prototype.update=function(t){var e,n;if(t>this._startTime+this._duration&&!this._isPlaying)return!1;if(this.isPlaying||this.start(t),t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var r=this._playback?1-n:n,i=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[e]||(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object),this._onFinishCallback&&this._onFinishCallback(this._object,"complete");for(var o=0,a=this._chainedTweens.length;o<a;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],s=Array.isArray(t[i]),u=Array.isArray(a);!s&&u?t[i]=this._interpolationFunction(a,r):"object"===(void 0===a?"undefined":zi(a))&&a?this._updateProperties(t[i],o,a,r):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t];"string"==typeof this._valuesEnd[t]?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t]):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=e},t}(),Xi=(Ui=function(t,e){return(Ui=hn||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ui(t,e),t.prototype=null===e?qe(e):(n.prototype=e.prototype,new n)}),Zi=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.version="18.6.0",e.now=Ki,e.Group=qi,e.Easing=Hi,e.Interpolation=Yi,e.nextId=Ji.nextId,e.Tween=Qi,e}return Xi(e,t),e}(qi));Ni("getPrototypeOf",(function(){return function(t){return Bn(Tn(t))}}));var $i=bt.Object.getPrototypeOf,to=Object.freeze({__proto__:null,default:$i,__moduleExports:$i}),eo=to&&$i||to,no=x(C((function(t){t.exports={default:eo,__esModule:!0}}))),ro=x(C((function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}})));De(De.S+De.F*!Z,"Object",{defineProperty:ht.f});var io=bt.Object,oo=function(t,e,n){return io.defineProperty(t,e,n)},ao=Object.freeze({__proto__:null,default:oo,__moduleExports:oo}),so=ao&&oo||ao,uo=C((function(t){t.exports={default:so,__esModule:!0}})),lo=x(uo),co=Object.freeze({__proto__:null,default:lo,__moduleExports:uo}),_o=co&&lo||co,fo=x(C((function(t,e){e.__esModule=!0;var n,r=(n=_o)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()}))),ho=Mi&&zi||Mi,po=x(C((function(t,e){e.__esModule=!0;var n,r=(n=ho)&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}}))),vo=x(C((function(t,e){e.__esModule=!0;var n=o(fn),r=o(Ke),i=o(ho);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}}))),mo=Object.assign,go=!mo||W((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=mo({},t)[n]||Object.keys(mo({},e)).join("")!=r}))?function(t,e){for(var n=Tn(t),r=arguments.length,i=1,o=jr.f,a=Qe.f;r>i;)for(var s,u=Mt(arguments[i++]),l=o?Ce(u).concat(o(u)):Ce(u),c=l.length,_=0;c>_;)s=l[_++],Z&&!a.call(u,s)||(n[s]=u[s]);return n}:mo,yo=Object.freeze({__proto__:null,default:go,__moduleExports:go}),bo=yo&&go||yo;De(De.S+De.F,"Object",{assign:bo});var So=bt.Object.assign,Eo=Object.freeze({__proto__:null,default:So,__moduleExports:So}),wo=Eo&&So||Eo;function ko(){}x(C((function(t){t.exports={default:wo,__esModule:!0}})))(ko.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e),this},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t)}}}});var xo,Co,Oo,Po="start",Fo="finish",jo="pause",Ao="resume",Lo=En("toStringTag"),To="Arguments"==jt(function(){return arguments}()),zo=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Lo))?n:To?jt(e):"Object"==(r=jt(e))&&"function"==typeof e.callee?"Arguments":r},Mo=Object.freeze({__proto__:null,default:zo,__moduleExports:zo}),Io=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},Ro=Object.freeze({__proto__:null,default:Io,__moduleExports:Io}),No=function(t,e,n,r){try{return r?e(it(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&it(i.call(t)),e}},Do=Object.freeze({__proto__:null,default:No,__moduleExports:No}),Uo=En("iterator"),Bo=Array.prototype,Vo=function(t){return void 0!==t&&(Dn.Array===t||Bo[Uo]===t)},Go=Object.freeze({__proto__:null,default:Vo,__moduleExports:Vo}),Wo=Mo&&zo||Mo,Ko=En("iterator"),qo=bt.getIteratorMethod=function(t){if(null!=t)return t[Ko]||t["@@iterator"]||Dn[Wo(t)]},Ho=Object.freeze({__proto__:null,default:qo,__moduleExports:qo}),Yo=Do&&No||Do,Jo=Go&&Vo||Go,Qo=Ho&&qo||Ho,Xo=C((function(t){var e={},n={},r=t.exports=function(t,r,i,o,a){var s,u,l,c,_=a?function(){return t}:Qo(t),f=St(i,o,r?2:1),h=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(Jo(_)){for(s=Zt(t.length);s>h;h++)if((c=r?f(it(u=t[h])[0],u[1]):f(t[h]))===e||c===n)return c}else for(l=_.call(t);!(u=l.next()).done;)if((c=Yo(l,f,u.value,r))===e||c===n)return c};r.BREAK=e,r.RETURN=n})),Zo=Object.freeze({__proto__:null,default:Xo,__moduleExports:Xo}),$o=En("species"),ta=function(t,e){var n,r=it(t).constructor;return void 0===r||null==(n=it(r)[$o])?e:z(n)},ea=Object.freeze({__proto__:null,default:ta,__moduleExports:ta}),na=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},ra=Object.freeze({__proto__:null,default:na,__moduleExports:na}),ia=ra&&na||ra,oa=H.process,aa=H.setImmediate,sa=H.clearImmediate,ua=H.MessageChannel,la=H.Dispatch,ca=0,_a={},fa=function(){var t=+this;if(_a.hasOwnProperty(t)){var e=_a[t];delete _a[t],e()}},ha=function(t){fa.call(t.data)};aa&&sa||(aa=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _a[++ca]=function(){ia("function"==typeof t?t:Function(t),e)},xo(ca),ca},sa=function(t){delete _a[t]},"process"==jt(oa)?xo=function(t){oa.nextTick(St(fa,t,1))}:la&&la.now?xo=function(t){la.now(St(fa,t,1))}:ua?(Oo=(Co=new ua).port2,Co.port1.onmessage=ha,xo=St(Oo.postMessage,Oo,1)):H.addEventListener&&"function"==typeof postMessage&&!H.importScripts?(xo=function(t){H.postMessage(t+"","*")},H.addEventListener("message",ha,!1)):xo="onreadystatechange"in $("script")?function(t){Te.appendChild($("script")).onreadystatechange=function(){Te.removeChild(this),fa.call(t)}}:function(t){setTimeout(St(fa,t,1),0)});var pa={set:aa,clear:sa},da=pa.set,va=pa.clear,ma=Object.freeze({__proto__:null,default:pa,__moduleExports:pa,set:da,clear:va}),ga=ma&&pa||ma,ya=ga.set,ba=H.MutationObserver||H.WebKitMutationObserver,Sa=H.process,Ea=H.Promise,wa="process"==jt(Sa),ka=function(){var t,e,n,r=function(){var r,i;for(wa&&(r=Sa.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(wa)n=function(){Sa.nextTick(r)};else if(!ba||H.navigator&&H.navigator.standalone)if(Ea&&Ea.resolve){var i=Ea.resolve(void 0);n=function(){i.then(r)}}else n=function(){ya.call(H,r)};else{var o=!0,a=document.createTextNode("");new ba(r).observe(a,{characterData:!0}),n=function(){a.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}},xa=Object.freeze({__proto__:null,default:ka,__moduleExports:ka});function Ca(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=z(e),this.reject=z(n)}var Oa=function(t){return new Ca(t)},Pa={f:Oa},Fa=Object.freeze({__proto__:null,default:Pa,__moduleExports:Pa,f:Oa}),ja=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Aa=Object.freeze({__proto__:null,default:ja,__moduleExports:ja}),La=H.navigator,Ta=La&&La.userAgent||"",za=Object.freeze({__proto__:null,default:Ta,__moduleExports:Ta}),Ma=Fa&&Pa||Fa,Ia=function(t,e){if(it(t),D(e)&&e.constructor===t)return e;var n=Ma.f(t);return(0,n.resolve)(e),n.promise},Ra=Object.freeze({__proto__:null,default:Ia,__moduleExports:Ia}),Na=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:Et(t,r,e[r]);return t},Da=Object.freeze({__proto__:null,default:Na,__moduleExports:Na}),Ua=En("species"),Ba=function(t){var e="function"==typeof bt[t]?bt[t]:H[t];Z&&e&&!e[Ua]&&ht.f(e,Ua,{configurable:!0,get:function(){return this}})},Va=Object.freeze({__proto__:null,default:Ba,__moduleExports:Ba}),Ga=En("iterator"),Wa=!1;try{var Ka=[7][Ga]();Ka.return=function(){Wa=!0},Array.from(Ka,(function(){throw 2}))}catch(t){}var qa,Ha,Ya,Ja,Qa=function(t,e){if(!e&&!Wa)return!1;var n=!1;try{var r=[7],i=r[Ga]();i.next=function(){return{done:n=!0}},r[Ga]=function(){return i},t(r)}catch(t){}return n},Xa=Object.freeze({__proto__:null,default:Qa,__moduleExports:Qa}),Za=Ro&&Io||Ro,$a=Zo&&Xo||Zo,ts=ea&&ta||ea,es=xa&&ka||xa,ns=Aa&&ja||Aa,rs=za&&Ta||za,is=Ra&&Ia||Ra,os=Da&&Na||Da,as=Va&&Ba||Va,ss=Xa&&Qa||Xa,us=ga.set,ls=es(),cs=H.TypeError,_s=H.process,fs=_s&&_s.versions,hs=fs&&fs.v8||"",ps=H.Promise,ds="process"==Wo(_s),vs=function(){},ms=Ha=Ma.f,gs=!!function(){try{var t=ps.resolve(1),e=(t.constructor={})[En("species")]=function(t){t(vs,vs)};return(ds||"function"==typeof PromiseRejectionEvent)&&t.then(vs)instanceof e&&0!==hs.indexOf("6.6")&&-1===rs.indexOf("Chrome/66")}catch(t){}}(),ys=function(t){var e;return!(!D(t)||"function"!=typeof(e=t.then))&&e},bs=function(t,e){if(!t._n){t._n=!0;var n=t._c;ls((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&ws(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(cs("Promise-chain cycle")):(o=ys(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Ss(t)}))}},Ss=function(t){us.call(H,(function(){var e,n,r,i=t._v,o=Es(t);if(o&&(e=ns((function(){ds?_s.emit("unhandledRejection",i,t):(n=H.onunhandledrejection)?n({promise:t,reason:i}):(r=H.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=ds||Es(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},Es=function(t){return 1!==t._h&&0===(t._a||t._c).length},ws=function(t){us.call(H,(function(){var e;ds?_s.emit("rejectionHandled",t):(e=H.onrejectionhandled)&&e({promise:t,reason:t._v})}))},ks=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),bs(e,!0))},xs=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw cs("Promise can't be resolved itself");(e=ys(t))?ls((function(){var r={_w:n,_d:!1};try{e.call(t,St(xs,r,1),St(ks,r,1))}catch(t){ks.call(r,t)}})):(n._v=t,n._s=1,bs(n,!1))}catch(t){ks.call({_w:n,_d:!1},t)}}};gs||(ps=function(t){Za(this,ps,"Promise","_h"),z(t),qa.call(this);try{t(St(xs,this,1),St(ks,this,1))}catch(t){ks.call(this,t)}},(qa=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=os(ps.prototype,{then:function(t,e){var n=ms(ts(this,ps));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=ds?_s.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&bs(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Ya=function(){var t=new qa;this.promise=t,this.resolve=St(xs,t,1),this.reject=St(ks,t,1)},Ma.f=ms=function(t){return t===ps||t===Ja?new Ya(t):Ha(t)}),De(De.G+De.W+De.F*!gs,{Promise:ps}),On(ps,"Promise"),as("Promise"),Ja=bt.Promise,De(De.S+De.F*!gs,"Promise",{reject:function(t){var e=ms(this);return(0,e.reject)(t),e.promise}}),De(De.S+De.F*(re||!gs),"Promise",{resolve:function(t){return is(re&&this===Ja?ps:this,t)}}),De(De.S+De.F*!(gs&&ss((function(t){ps.all(t).catch(vs)}))),"Promise",{all:function(t){var e=this,n=ms(e),r=n.resolve,i=n.reject,o=ns((function(){var n=[],o=0,a=1;$a(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=ms(e),r=n.reject,i=ns((function(){$a(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}}),De(De.P+De.R,"Promise",{finally:function(t){var e=ts(this,bt.Promise||H.Promise),n="function"==typeof t;return this.then(n?function(n){return is(e,t()).then((function(){return n}))}:t,n?function(n){return is(e,t()).then((function(){throw n}))}:t)}}),De(De.S,"Promise",{try:function(t){var e=Ma.f(this),n=ns(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var Cs=bt.Promise,Os=Object.freeze({__proto__:null,default:Cs,__moduleExports:Cs}),Ps=Os&&Cs||Os,Fs=x(C((function(t){t.exports={default:Ps,__esModule:!0}}))),js=Ai(),As=function(t){function e(){ro(this,e);var t=po(this,(e.__proto__||no(e)).call(this));t._transactions=[],t._totalTime=100;var n=function(){},r=Ts.call(t,{type:"point",value:0,fn:n});return t._transactions.push({tween:r,fn:n,name:js,type:"point",value:0}),t}return vo(e,t),fo(e,[{key:"setName",value:function(t){this._name=t}},{key:"getName",value:function(){return this._name}},{key:"setId",value:function(t){this._id=t}},{key:"getId",value:function(){return this._id}},{key:"start",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];zs.call.apply(zs,[this].concat(e,[!1]))}},{key:"forceStart",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0;if(0===(r=e.length>0?this._transactions.filter((function(t){var n=t.name;return e.includes(n)})):this._transactions).length)return!1;r.forEach((function(t){t.tween.stop()})),this.start.apply(this,e)}},{key:"playback",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];zs.call.apply(zs,[this].concat(e,[!0]))}},{key:"forcePlayback",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0;if(0===(r=e.length>0?this._transactions.filter((function(t){var n=t.name;return e.includes(n)})):this._transactions).length)return!1;r.forEach((function(t){t.tween.stop()})),this.playback.apply(this,e)}},{key:"stop",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=void 0;if(0===(i=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&(t.finishType="stop"),n.includes(e)&&r._isPlaying})):this._transactions.filter((function(t){var e=t.tween;return t.finishType="stop",e._isPlaying}))).length)return!1;var o=i.map((function(t){var e=t.tween;t.fn;return new Fs((function(t){!1===e._isPlaying?t():e._onStop((function(){t()}))}))}));Fs.all(o).then((function(){t.dispatchEvent({type:"stop",transactions:i})})),i.forEach((function(t){t.tween.stop()}))}},{key:"pause",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=void 0;if(0===(i=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&!r._isPaused&&r._isPlaying})):this._transactions.filter((function(t){var e=t.tween;return!e._isPaused&&e._isPlaying}))).length)return!1;var o=i.map((function(t){var e=t.tween;t.fn;return new Fs((function(t){e._onPause((function(){t()}))}))}));Fs.all(o).then((function(){t.dispatchEvent({type:jo,transactions:i})})),i.forEach((function(t){t.tween.pause()}))}},{key:"resume",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=void 0;if(0===(i=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&r._isPaused&&r._isPlaying})):this._transactions.filter((function(t){var e=t.tween;return e._isPaused&&e._isPlaying}))).length)return!1;var o=i.map((function(t){var e=t.tween;t.fn;return new Fs((function(t){e._onResume((function(){t()}))}))}));Fs.all(o).then((function(){t.dispatchEvent({type:Ao,transactions:i})})),i.forEach((function(t){t.tween.resume()}))}},{key:"chain",value:function(t){if(t instanceof e){for(var n,r,i=!1,o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("boolean"==typeof a[a.length-1]&&(i=a.pop()),this._nextSegment=t,i)this._nextSegmentStrat=(n=t.playback).bind.apply(n,[t].concat(a));else this._nextSegmentStrat=(r=t.start).bind.apply(r,[t].concat(a))}return this}},{key:"removeChain",value:function(){delete this._nextSegment,delete this._nextSegmentStrat}},{key:"transaction",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ls.apply(this,e);return this._transactions.push(r),this}},{key:"removeTransaction",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0!==n.length){var i=this._transactions.length;this._transactions=this._transactions.filter((function(t){var e=t.name,r=t.id;return!n.includes(e)&&!n.includes(r)||e===js}));var o=this._transactions.length;i!==o&&(this._totalTime=0,this._transactions.forEach((function(e){var n=e.type,r=e.value;if("point"===n)t._totalTime=Math.max(t._totalTime,r);else{if("interval"!==n)throw new Error("transaction type error!");t._totalTime=Math.max(t._totalTime,r[1])}})))}}},{key:"editTransaction",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._transactions.forEach((function(n,i){var o=n.name,a=n.id;t!==o&&t!==a||(e._transactions[i]=Ls.apply(e,r))}))}},{key:"getTotalTime",value:function(){return this._totalTime}}]),e}(ko);function Ls(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r={};"[object Object]"===Object.prototype.toString.call(e[e.length-1])&&(r=e.pop());var i=r,o=i.name,a=i.id,s=i.easing,u=void 0===s?Rs.Easing.Linear.None:s;if("function"!=typeof u)throw new Error("easing is function!");if(void 0!==o&&"string"!=typeof o&&"number"!=typeof o)throw new Error("name is string or number!");if(void 0!==a&&"string"!=typeof a&&"number"!=typeof a)throw new Error("id is string or number!");var l=e.pop();if("function"!=typeof l)throw new Error("You need to pass in a function!");if(1===e.length){if("number"!=typeof e[0]||e[0]<0)throw new Error("Invalid time value! should time >= 0.");var c=Ts.call(this,{type:"point",value:e[0],fn:l});return this._totalTime=Math.max(this._totalTime,e[0]),{tween:c,fn:l,name:o,id:a,type:"point",value:e[0]}}if(2===e.length){if("number"!=typeof e[0]||"number"!=typeof e[1]||e[0]<0||e[1]<0)throw new Error("Invalid time value! should time >= 0.");if(e[0]>=e[1])throw new Error("arg[0] < arg[1]!");var _=Ts.call(this,{type:"interval",value:e,fn:l,easing:u});return this._totalTime=Math.max(this._totalTime,e[1]),{tween:_,fn:l,name:o,id:a,type:"interval",value:e}}throw new Error("Invalid arguments!")}function Ts(t){var e=this,n=t.type,r=t.value,i=t.fn,o=t.easing,a=void 0;return"interval"===n?((a=new Zi.Tween({time:r[0]})).to({time:r[1]},r[1]-r[0]),a._onUpdate((function(t){var n=t.time,o=(n-r[0])/(r[1]-r[0]),a=n/e._totalTime;i(n,o,a)})),o&&a.easing(o)):"point"===n&&(a=new Zi.Tween({time:r})).duration(100),a._onStart((function(t){var n=t.time;i(n,0,n/e._totalTime)})),a}function zs(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=!1;"boolean"==typeof n[n.length-1]&&(i=n.pop());var o=void 0;if(0===(o=n.length>0?this._transactions.filter((function(t){var e=t.name,r=t.tween;return n.includes(e)&&!r._isPlaying})):this._transactions.filter((function(t){return!t.tween._isPlaying}))).length)return!1;var a=o.map((function(e){var n=e.tween,r=e.fn;return new Fs((function(e){n._onStart((function(n){var i=n.time;r(i,0,i/t._totalTime),e()}))}))}));Fs.race(a).then((function(){t.dispatchEvent({type:Po,transactions:o})}));var s=o.map((function(t){var e=t.tween;t.type,t.value;return new Fs((function(t){e._onComplete((function(){t()}))}))}));Fs.all(s).then((function(){t.dispatchEvent({type:"complete",transactions:o})}));var u=o.map((function(t){var e=t.tween;t.type,t.value;return new Fs((function(n){e._onFinish((function(e,r){t.finishType=r,n()}))}))}));Fs.all(u).then((function(){var e=o.map((function(t){return t.finishType}));"function"==typeof t._nextSegmentStrat&&e.includes("complete")?(t._nextSegment.hasEventListener(Po,t._currentSegmentFinish2nextSegmentStartCallback)&&t._nextSegment.removeEventListener(Po,t._currentSegmentFinish2nextSegmentStartCallback),t._currentSegmentFinish2nextSegmentStartCallback=function(){t._nextSegment.removeEventListener(Po,t._currentSegmentFinish2nextSegmentStartCallback),t._currentSegmentFinish2nextSegmentStartCallback=null,t.dispatchEvent({type:Fo,transactions:o})},t._nextSegment.addEventListener(Po,t._currentSegmentFinish2nextSegmentStartCallback),t._nextSegmentStrat()):t.dispatchEvent({type:Fo,transactions:o})})),o.forEach((function(e){var n=e.tween,r=e.type,o=e.value;i?"interval"===r?n.delay(t._totalTime-o[1]):"point"===r&&n.delay(t._totalTime-o):"interval"===r?n.delay(o[0]):"point"===r&&n.delay(o),n.playback(i),n.start()}))}var Ms=function(t){function e(t){ro(this,e);var n=po(this,(e.__proto__||no(e)).call(this));n._segments=t,n._type="forward",n._isPlaying=!1,n._isPaused=!1;for(var r=n._segments.length,i=function(t){var e=n._segments[t];e.addEventListener(Po,(function(){n._isPlaying&&(n._currentSegment=e)}))},o=0;o<r;o++)i(o);return n}return vo(e,t),fo(e,[{key:"start",value:function(t){var e=this;if(this._isPlaying)return!1;if(this._isPlaying=!0,this._isPaused=!1,!Is.hasOwnProperty(this._type))throw this._isPlaying=!1,new Error("not set arrange type!");if(Is[this._type].call(this,t),!(this._startSegment instanceof As)||"function"!=typeof this._startSegmentStart)throw this._isPlaying=!1,new Error("start segment not instanceof Segment!");this._endSegment.hasEventListener(Fo,this._endSegmentFinishCallback)&&this._endSegment.removeEventListener(Fo,this._endSegmentFinishCallback),this._endSegmentFinishCallback=function(t){var n=t.transactions;if(e._isPlaying){e._isPlaying=!1,e._endSegment.removeEventListener(Fo,e._endSegmentFinishCallback),e._endSegmentFinishCallback=void 0;var r=n.map((function(t){return t.finishType}));"function"==typeof e._nextArrangeStrat&&r.includes("complete")?(e._nextArrange.hasEventListener(Po,e._currentArrangeFinish2nextArrangeStartCallback)&&e._nextArrange.removeEventListener(Po,e._currentArrangeFinish2nextArrangeStartCallback),e._currentArrangeFinish2nextArrangeStartCallback=function(){e._nextArrange.removeEventListener(Po,e._currentArrangeFinish2nextArrangeStartCallback),e._currentArrangeFinish2nextArrangeStartCallback=null,e.dispatchEvent({type:Fo})},e._nextArrange.addEventListener(Po,e._currentArrangeFinish2nextArrangeStartCallback),e._nextArrangeStrat()):e.dispatchEvent({type:Fo})}},this._endSegment.addEventListener(Fo,this._endSegmentFinishCallback),this._endSegment.hasEventListener("complete",this._endSegmentCompleteCallback)&&this._endSegment.removeEventListener("complete",this._endSegmentCompleteCallback),this._endSegmentCompleteCallback=function(t){e._isPlaying&&(e._endSegment.removeEventListener("complete",e._endSegmentCompleteCallback),e._endSegmentCompleteCallback=void 0,e.dispatchEvent({type:"complete"}))},this._endSegment.addEventListener("complete",this._endSegmentCompleteCallback),this._startSegment.hasEventListener(Po,this._startSegmentCompleteCallback)&&this._startSegment.removeEventListener(Po,this._startSegmentCompleteCallback),this._startSegmentCompleteCallback=function(){e._startSegment.removeEventListener(Po,e._startSegmentCompleteCallback),e._startSegmentCompleteCallback=void 0,e.dispatchEvent({type:Po})},this._startSegment.addEventListener(Po,this._startSegmentCompleteCallback),this._startSegmentStart()}},{key:"stop",value:function(){var t=this;if(!this._isPlaying)return!1;this._currentSegment instanceof As&&(this._currentSegment!==this._endSegment&&(this._currentSegment.hasEventListener(Fo,this._currentSegmentFinishForStopCallback)&&this._currentSegment.removeEventListener(Fo,this._currentSegmentFinishForStopCallback),this._currentSegmentFinishForStopCallback=function(){t._isPlaying=!1,t._currentSegment.removeEventListener(Fo,t._currentSegmentFinishForStopCallback),t._currentSegmentFinishForStopCallback=void 0,t.dispatchEvent({type:Fo})},this._currentSegment.addEventListener(Fo,this._currentSegmentFinishForStopCallback)),this._currentSegment.stop(),this.dispatchEvent({type:"stop"}))}},{key:"pause",value:function(){var t=this;if(!this._isPlaying||this._isPaused)return!1;this._currentSegment instanceof As&&(this._currentSegment.hasEventListener(jo,this._currentSegmentPauseCallback)&&this._currentSegment.removeEventListener(jo,this._currentSegmentPauseCallback),this._currentSegmentPauseCallback=function(){t._isPaused=!0,t._currentSegment.removeEventListener(jo,t._currentSegmentPauseCallback),t._currentSegmentPauseCallback=void 0,t.dispatchEvent({type:jo})},this._currentSegment.addEventListener(jo,this._currentSegmentPauseCallback),this._currentSegment.pause())}},{key:"resume",value:function(){var t=this;if(!this._isPlaying||!this._isPaused)return!1;this._currentSegment instanceof As&&(this._currentSegment.hasEventListener(Ao,this._currentSegmentResumeCallback)&&this._currentSegment.removeEventListener(Ao,this._currentSegmentResumeCallback),this._currentSegmentResumeCallback=function(){t._isPaused=!1,t._currentSegment.removeEventListener(Ao,t._currentSegmentResumeCallback),t._currentSegmentResumeCallback=void 0,t.dispatchEvent({type:Ao})},this._currentSegment.addEventListener(Ao,this._currentSegmentResumeCallback),this._currentSegment.resume())}},{key:"chain",value:function(t){t instanceof e&&(this._nextArrange=t,this._nextArrangeStrat=t.start.bind(t))}},{key:"removeChain",value:function(){delete this._nextArrange,delete this._nextArrangeStrat}},{key:"execute",value:function(t){var e=this;if(!this._isPlaying||!(t instanceof As)||this._executeing)return!1;this._executeing=!0;var n=this._isPaused;this.hasEventListener(Fo,this._executeForPrevFinishCallback)&&this.removeEventListener(Fo,this._executeForPrevFinishCallback),this._executeForPrevFinishCallback=function(){n?(t.hasEventListener(Fo,e._executeForTargetSegmentFinishCallback)&&t.removeEventListener(Fo,e._executeForTargetSegmentFinishCallback),e._executeForTargetSegmentFinishCallback=function(){e.pause(),e._executeing=!1,t.removeEventListener(Fo,e._executeForTargetSegmentFinishCallback),e._executeForTargetSegmentFinishCallback=void 0},t.addEventListener(Fo,e._executeForTargetSegmentFinishCallback)):e._executeing=!1,e.start(t),e.removeEventListener(Fo,e._executeForPrevFinishCallback),e._executeForPrevFinishCallback=void 0},this.addEventListener(Fo,this._executeForPrevFinishCallback),this.stop()}},{key:"switch",value:function(t){var e=this;if(!this._isPlaying||!(t instanceof As)||this._switching)return!1;this._switching=!0;var n=this._isPaused;this.hasEventListener(Fo,this._switchForPrevFinishCallback)&&this.removeEventListener(Fo,this._switchForPrevFinishCallback),this._switchForPrevFinishCallback=function(){n?(e.hasEventListener(Po,e._switchForStartAfterCallback)&&e.removeEventListener(Po,e._switchForStartAfterCallback),e._switchForStartAfterCallback=function(){e.pause(),e._switching=!1,e.removeEventListener(Po,e._switchForStartAfterCallback),e._switchForStartAfterCallback=void 0},e.addEventListener(Po,e._switchForStartAfterCallback)):e._switching=!1,e.start(t),e.removeEventListener(Fo,e._switchForPrevFinishCallback),e._switchForPrevFinishCallback=void 0},this.addEventListener(Fo,this._switchForPrevFinishCallback),this.stop()}},{key:"forward",value:function(){this._type="forward"}},{key:"back",value:function(){this._type="back"}}]),e}(ko),Is={discrete:function(){for(var t=this._segments.length,e=0;e<t;e++)this._segments[e].removeChain()},forward:function(t){Is.discrete.call(this);for(var e=this._segments.length,n=0;n<e;n++){var r=this._segments[n],i=this._segments[n+1];r instanceof As&&i instanceof As&&r.chain(i)}t instanceof As&&this._segments.includes(t)?this._startSegment=t:this._startSegment=this._segments[0],this._startSegmentStart=this._startSegment.start.bind(this._startSegment),this._endSegment=this._segments[e-1]},back:function(t){Is.discrete.call(this);var e=this._segments.length;this._endSegment=this._segments[0];for(var n=e-1;n>=0;n--){var r=this._segments[n],i=this._segments[n-1];r instanceof As&&i instanceof As&&r.chain(i,!0)}t instanceof As&&this._segments.includes(t)?this._startSegment=t:this._startSegment=this._segments[e-1],this._startSegmentStart=this._startSegment.playback.bind(this._startSegment),this._endSegment=this._segments[0]}},Rs=function(t){function e(){ro(this,e);var t=po(this,(e.__proto__||no(e)).call(this));return t._segments=[],t._currentArrange,t._isPlaying=!1,t._isPaused=!1,t._repeat=1,t._arrangements=[],t}return vo(e,t),fo(e,[{key:"getSegmentById",value:function(t){return this._segments.find((function(e){return e.getId()===t}))}},{key:"getSegmentByName",value:function(t){return this._segments.find((function(e){return e.getName()===t}))}},{key:"getSegments",value:function(){return this._segments}},{key:"setSegments",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){if(!(t instanceof As))throw new Error("not instanceof Segment!")})),this._segments=e,this.clearArrangements()}},{key:"addSegments",value:function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(t){if(!(t instanceof As))throw new Error("not instanceof Segment!")})),(t=this._segments).push.apply(t,n),this.clearArrangements()}},{key:"pushForwardArrange",value:function(){var t=new Ms(this._segments);return t.forward(),Ns.call(this,t),this._arrangements.push(t),t}},{key:"pushBackArrange",value:function(){var t=new Ms(this._segments);return t.back(),Ns.call(this,t),this._arrangements.push(t),t}},{key:"getArrangements",value:function(){return this._arrangements}},{key:"clearArrangements",value:function(){this._arrangements=[]}},{key:"start",value:function(){var t=this;if(this._isPlaying||0===this._segments.length)return!1;var e=void 0,n=void 0;arguments.length>0&&(1===arguments.length?n=arguments.length<=0?void 0:arguments[0]:(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1])),this._isPlaying=!0,this._isPaused=!1;var r=this._arrangements.length;if(0===r){var i=this.pushForwardArrange();this._defaultArrangeForPrevFinishCallback=function(){i.removeEventListener(Fo,t._defaultArrangeForPrevFinishCallback),t._defaultArrangeForPrevFinishCallback=void 0,t.clearArrangements()},i.addEventListener(Fo,this._defaultArrangeForPrevFinishCallback),r=1}for(var o=0;o<r;o++){var a=this._arrangements[o],s=this._arrangements[o+1];a instanceof Ms&&s instanceof Ms&&a.chain(s)}e instanceof Ms&&this._arrangements.includes(e)?this._startArrange=e:this._startArrange=this._arrangements[0],this._endArrange=this._arrangements[r-1],this._endArrange.hasEventListener(Fo,this._endArrangeEventListenerFn)&&this._endArrange.removeEventListener(Fo,this._endArrangeEventListenerFn);var u=0;this._endArrangeEventListenerFn=function(){t._isPlaying&&(++u>=t._repeat||t._needStop?(t._isPlaying=!1,t._endArrange.removeEventListener(Fo,t._endArrangeEventListenerFn),t._endArrangeEventListenerFn=void 0,u>=t._repeat&&!t._needStop&&t.dispatchEvent({type:"complete"}),t._currentArrange===t._endArrange&&(t._needStop=!1,t.dispatchEvent({type:Fo}))):t._startArrange.start())},this._endArrange.addEventListener(Fo,this._endArrangeEventListenerFn),this._startArrange.hasEventListener(Po,this._startArrangeCompleteCallback)&&this._startArrange.removeEventListener(Po,this._startArrangeCompleteCallback),this._startArrangeCompleteCallback=function(){t._startArrange.removeEventListener(Po,t._startArrangeCompleteCallback),t._startArrangeCompleteCallback=void 0,t.dispatchEvent({type:Po})},this._startArrange.addEventListener(Po,this._startArrangeCompleteCallback),this._startArrange.start(n)}},{key:"repeat",value:function(t){if("number"!=typeof t||t<=0)throw new Error("Invalid repeat!");this._repeat=t}},{key:"loop",value:function(){this._repeat=1/0}},{key:"stop",value:function(){var t=this;if(!this._isPlaying)return!1;this._currentArrange instanceof Ms&&(this._needStop=!0,this._currentArrange!==this._endArrange&&(this._isPlaying=!1),this._currentArrange!==this._endArrange&&(this._needStop=!1,this._currentArrange.hasEventListener(Fo,this._currentArrangeFinishForStopCallback)&&this._currentArrange.removeEventListener(Fo,this._currentArrangeFinishForStopCallback),this._currentArrangeFinishForStopCallback=function(){t._currentArrange.removeEventListener(Fo,t._currentArrangeFinishForStopCallback),t._currentArrangeFinishForStopCallback=void 0,t.dispatchEvent({type:Fo})},this._currentArrange.addEventListener(Fo,this._currentArrangeFinishForStopCallback)),this._currentArrange.stop(),this.dispatchEvent({type:"stop"}))}},{key:"pause",value:function(){var t=this;if(!this._isPlaying||this._isPaused)return!1;this._currentArrange instanceof Ms&&(this._currentArrange.hasEventListener(jo,this._currentArrangePauseCallback)&&this._currentArrange.removeEventListener(jo,this._currentArrangePauseCallback),this._currentArrangePauseCallback=function(){t._isPaused=!0,t._currentArrange.removeEventListener(jo,t._currentArrangePauseCallback),t._currentArrangePauseCallback=void 0,t.dispatchEvent({type:jo})},this._currentArrange.addEventListener(jo,this._currentArrangePauseCallback),this._currentArrange.pause())}},{key:"resume",value:function(){var t=this;if(!this._isPlaying||!this._isPaused)return!1;this._currentArrange instanceof Ms&&(this._currentArrange.hasEventListener(Ao,this._currentArrangeResumeCallback)&&this._currentArrange.removeEventListener(Ao,this._currentArrangeResumeCallback),this._currentArrangeResumeCallback=function(){t._isPaused=!1,t._currentArrange.removeEventListener(Ao,t._currentArrangeResumeCallback),t._currentArrangeResumeCallback=void 0,t.dispatchEvent({type:Ao})},this._currentArrange.addEventListener(Ao,this._currentArrangeResumeCallback),this._currentArrange.resume())}},{key:"execute",value:function(){var t=this,e=void 0,n=void 0;if(0===arguments.length)return!1;if(1===arguments.length?n=arguments.length<=0?void 0:arguments[0]:(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]),!this._isPlaying||!(n instanceof As)||this._executeing)return!1;this._executeing=!0;var r=this._isPaused;this.hasEventListener(Fo,this._executeForPrevFinishCallback)&&this.removeEventListener(Fo,this._executeForPrevFinishCallback),this._executeForPrevFinishCallback=function(){r?(n.hasEventListener(Fo,t._executeForTargetSegmentFinishCallback)&&n.removeEventListener(Fo,t._executeForTargetSegmentFinishCallback),t._executeForTargetSegmentFinishCallback=function(){t.pause(),t._executeing=!1,n.removeEventListener(Fo,t._executeForTargetSegmentFinishCallback),t._executeForTargetSegmentFinishCallback=void 0},n.addEventListener(Fo,t._executeForTargetSegmentFinishCallback)):t._executeing=!1,e?t.start(e,n):t.start(n),t.removeEventListener(Fo,t._executeForPrevFinishCallback),t._executeForPrevFinishCallback=void 0},this.addEventListener(Fo,this._executeForPrevFinishCallback),this.stop()}},{key:"switch",value:function(){var t=this,e=void 0,n=void 0;if(0===arguments.length)return!1;if(1===arguments.length?n=arguments.length<=0?void 0:arguments[0]:(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]),!this._isPlaying||!(n instanceof As)||this._switching)return!1;this._switching=!0;var r=this._isPaused;this.hasEventListener(Fo,this._switchForPrevFinishCallback)&&this.removeEventListener(Fo,this._switchForPrevFinishCallback),this._switchForPrevFinishCallback=function(){r?(t.hasEventListener(Po,t._switchForStartAfterCallback)&&t.removeEventListener(Po,t._switchForStartAfterCallback),t._switchForStartAfterCallback=function(){t.pause(),t._switching=!1,t.removeEventListener(Po,t._switchForStartAfterCallback),t._switchForStartAfterCallback=void 0},t.addEventListener(Po,t._switchForStartAfterCallback)):t._switching=!1,e?t.start(e,n):t.start(n),t.removeEventListener(Fo,t._switchForPrevFinishCallback),t._switchForPrevFinishCallback=void 0},this.addEventListener(Fo,this._switchForPrevFinishCallback),this.stop()}}]),e}(ko);function Ns(t){var e=this;t.addEventListener(Po,(function(){e._isPlaying&&(e._currentArrange=t)}))}return Rs.update=function(){Zi.update()},Rs.Easing=Zi.Easing,Rs.Arrange=Ms,Rs.Segment=As,Rs}));
